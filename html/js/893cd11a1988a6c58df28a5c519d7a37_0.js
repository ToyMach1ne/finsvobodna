function oSendpulsePush(){var e="http://blog.fin-svoboda.com",t="http://blog.fin-svoboda.com",n="https://blog1.sendpulse.com",o=!0,s=!0,r="893cd11a1988a6c58df28a5c519d7a37",i="",a="",p="",l="https://sendpulse.com:4434",u="web.com.sendpulse.push",d={},c="",m=null,b=null,h=null,S={},g=!1,f="1",P="sendpulse.com",v={ru:"Предоставлено SendPulse",en:"Powered by SendPulse",ua:"Надано SendPulse",de:"Unterstützt von SendPulse"},w={ru:"запрашивает разрешение на:",en:"wants to:",ua:"запитує дозвіл на:",de:"bittet eine Erlaubnis"},A={ru:"Показывать оповещения",en:"Show notifications",ua:"Показувати сповіщення",de:"Benachrichtigunggen anzuzeigen"},y={ru:"Разрешить",en:"Allow",ua:"Дозволити",de:"Erlauben"},D={ru:"Блокировать",en:"Block",ua:"Блокувати",de:"Blockieren"},k=!1,x="0";this.start=function(){if(!oSpP.detectSite())return oSpP.log("Application allowed only for "+e),!1;if("iOS"==oSpP.detectOs())return oSpP.log("Application can not work on iOS"),!1;var t=oSpP.detectOs();if(!s&&("iOS"==t||"Android"==t))return oSpP.log("Application disabled for your device"),!1;if(d=oSpP.detectBrowser(),c=d.name.toLowerCase(),"chrome"==c&&parseFloat(d.version)<42)return oSpP.log("Application can not work with Crome browser version less then 42"),!1;if("firefox"==c&&parseFloat(d.version)<44)return oSpP.log("Application can not work with Firefox browser version less then 44"),!1;if("firefox"==c&&"Android"==t)return oSpP.log("Application can not work with Firefox on Android"),!1;if("chrome"==c||"firefox"==c)if(window.addEventListener("message",function(e){e.origin.toLowerCase()==n.toLowerCase()&&("initend"==e.data?clearInterval(b):"closeme"==e.data?h.close():oSpP.storeSubscription(e.data))},!1),o)oSpP.getDbValue("SPIDs","SubscriptionId",function(e){void 0===e.target.result&&oSpP.getDbValue("SPIDs","PromptClosed",function(e){if(void 0===e.target.result)oSpP.startDelayedSubscription(oSpP.showPrompt);else{var t=parseInt(e.target.result.value);t--,0==t?(oSpP.deleteDbValue("SPIDs","PromptClosed"),oSpP.startDelayedSubscription(oSpP.showPrompt)):oSpP.putValueToDb("SPIDs",{type:"PromptClosed",value:t})}})});else for(var r=document.querySelectorAll(".sp_notify_prompt"),i=0;i<r.length;i++)r[i].addEventListener("click",function(){oSpP.showPopUp()});else if("safari"==c)if(o)oSpP.startDelayedSubscription(oSpP.startSubscription);else for(var r=document.querySelectorAll(".sp_notify_prompt"),i=0;i<r.length;i++)r[i].addEventListener("click",function(){oSpP.startSubscription()})},this.startSubscription=function(){switch(c){case"safari":if(oSpP.isSafariNotificationSupported()){var e=window.safari.pushNotification.permission(u);oSpP.checkSafariPermission(e)}}},this.checkCookie=function(e){for(var t=e+"=",n=document.cookie.split(";"),o=0;o<n.length;o++){for(var s=n[o];" "==s.charAt(0);)s=s.substring(1);if(0==s.indexOf(t))return s.substring(t.length,s.length)}return""},this.checkSafariPermission=function(e){oSpP.log("[DD] Permissions: "+e.permission),"default"===e.permission?(k=!0,oSpP.getDbValue("SPIDs","PromptShowed",function(e){void 0===e.target.result?(oSpP.sendPromptStat("prompt_showed"),oSpP.putValueToDb("SPIDs",{type:"PromptShowed",value:1})):oSpP.sendPromptStat("prompt_showed_again")}),window.safari.pushNotification.requestPermission(l,u,{appkey:r},oSpP.checkSafariPermission)):"denied"===e.permission?k&&oSpP.sendPromptStat("prompt_denied"):"granted"===e.permission&&(oSpP.uns(),k&&oSpP.sendPromptStat("prompt_granted"),oSpP.subscribe())},this.subscribe=function(){switch(c){case"safari":var e=window.safari.pushNotification.permission(u);if("granted"===e.permission){var t=e.deviceToken;oSpP.checkLocalSubsctoption(t)}}},this.checkLocalSubsctoption=function(e){oSpP.log("[DD] subscribe :: subscriptionId: "+e),oSpP.getDbValue("SPIDs","SubscriptionId",function(t){void 0===t.target.result?(oSpP.sendSubscribeDataToServer(e,"subscribe"),oSpP.putValueToDb("SPIDs",{type:"SubscriptionId",value:e})):t.target.result.value!==e&&(oSpP.sendSubscribeDataToServer(t.target.result.value,"unsubscribe"),oSpP.sendSubscribeDataToServer(e,"subscribe"),oSpP.putValueToDb("SPIDs",{type:"SubscriptionId",value:e}))})},this.sendSubscribeDataToServer=function(e,t,n){var o=new XMLHttpRequest;o.open("POST",l,!0),o.setRequestHeader("Content-Type","application/json"),void 0===n&&(n={},n.uname=oSpP.checkCookie("lgn"),n.os=oSpP.detectOs()),n.variables=oSpP.getUserVariables();var s=window.location.href,i={action:"subscription",subscriptionId:e,subscription_action:t,appkey:r,browser:d,lang:oSpP.getBrowserlanguage(),url:s,custom_data:n};o.send(JSON.stringify(i))},this.isSafariNotificationSupported=function(){return"safari"in window&&"pushNotification"in window.safari},this.storeSubscription=function(e){oSpP.log("StoreSubscription: "+e),oSpP.putValueToDb("SPIDs",{type:"SubscriptionId",value:e})},this.clearDomain=function(e){return e.replace("://www.","://").replace("://www2.","://")},this.detectSite=function(){var n=!(oSpP.clearDomain(window.location.href.toLowerCase()).indexOf(oSpP.clearDomain(e.toLowerCase()))===-1);return n||(n=!(oSpP.clearDomain(window.location.href.toLowerCase()).indexOf(oSpP.clearDomain(t.toLowerCase()))===-1)),n},this.getBrowserlanguage=function(){return navigator.language.substring(0,2)},this.getUserVariables=function(){for(var e={},t=document.querySelectorAll("input.sp_push_custom_data"),n=0;n<t.length;n++)switch(t[n].type){case"text":case"hidden":e[t[n].name]=t[n].value;break;case"checkbox":e[t[n].name]=t[n].checked?1:0;break;case"radio":t[n].checked&&(e[t[n].name]=t[n].value)}return e},this.showPopUp=function(){o&&oSpP.sendPromptStat("prompt_granted");var e=580,t=580,s=void 0!==window.screenLeft?window.screenLeft:screen.left,i=void 0!==window.screenTop?window.screenTop:screen.top,a=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width,p=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height,l=a/2-e/2+s,u=p/3-p/3+i,d=oSpP.getBrowserlanguage();""==d&&(d="en"),h=window.open(n+"/"+d+"/"+r,"_blank","scrollbars=yes, width="+e+", height="+t+", top="+u+", left="+l),window.focus&&h.focus(),b=setInterval(function(){h.postMessage("init",n),h.postMessage("initpage|"+window.location.href,n),h.postMessage("initvariables|"+JSON.stringify(oSpP.getUserVariables()),n)},100),o&&oSpP.closePrompt(!0)},this.showPrompt=function(){oSpP.getDbValue("SPIDs","PromptShowed",function(e){void 0===e.target.result?(oSpP.sendPromptStat("prompt_showed"),oSpP.putValueToDb("SPIDs",{type:"PromptShowed",value:1})):oSpP.sendPromptStat("prompt_showed_again")});var e=document.getElementsByTagName("head")[0],n=document.createElement("link");n.rel="stylesheet",n.type="text/css",n.href="https://cdn.sendpulse.com/css/push/sendpulse-prompt.min.css",n.media="all",e.appendChild(n);var o,s=oSpP.getMessageLang(oSpP.getBrowserlanguage()),r="sendpulse-popover",l="display:none;",u=!0;if("undefined"!=typeof f&&0==f&&(u=!1),i.length>0){var d='<svg style="display: none;"><symbol id="sp_bell_icon"><path d="M139.165 51.42L103.39 15.558C43.412 61.202 3.74 132.185 0 212.402h50.174c3.742-66.41 37.877-124.636 88.99-160.98zM474.98 212.403h50.173c-3.742-80.217-43.413-151.2-103.586-196.845L385.704 51.42c51.398 36.346 85.533 94.572 89.275 160.982zm-49.388 12.582c0-77-53.39-141.463-125.424-158.487v-17.09c0-20.786-16.76-37.613-37.592-37.613s-37.592 16.827-37.592 37.614v17.09C152.95 83.52 99.56 148.004 99.56 224.983v137.918L49.408 413.01v25.076h426.336V413.01l-50.152-50.108V224.984zM262.576 513.358c3.523 0 6.76-.22 10.065-1.007 16.237-3.237 29.825-14.528 36.06-29.626 2.517-5.952 4.05-12.494 4.05-19.54H212.4c0 27.593 22.582 50.174 50.174 50.174z" /></symbol></svg>',c='<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAMAAAAMCGV4AAAAk1BMVEUNkaAmtrIltLEMj58Mj58mtrIks7EfrK0MkKD///8Pk6EmtrIisK8cp6oTmaQRlqIZoqkVnKaz4OL7/v7t+PhjvsT4/P3l9vbY8PDM6uy74+Ww3uGc2dt3ysx1xMoyrLLx+fro9vat4+Kj2t2NztOB0dF/yc5myMhevsNMwL8/u7pMsLlDr7cyuLY9sbY7p7IkpazkILODAAAABnRSTlPn5ubmSkmZnvKZAAAAiElEQVQI10XHVRbCQBBE0SJGeoCxuONu+18dpDPn5P7UK4SL1WwRwovYnl7jeIgmBd14sWZ3ogsHlqwjOnG4b8uknf6G7dqi5oAevelalXo4ZBqaiIYu+Vr622oYY9K+qcwzy865NZBS2iY9ypGREkqpPqGHciCE+FAuhQPEsUjr2AECP575wQ+doQxkp1hUBQAAAABJRU5ErkJggg==">';o=JSON.parse(i),r=o.style;var m=document.createElement("div");m.setAttribute("class","sendpulse-prompt "+r),o.backgroundcolor.length>0&&(l=l+"background-color: "+o.backgroundcolor+";"),m.setAttribute("style",l);var b=document.createElement("div");b.setAttribute("class","sendpulse-prompt-message");var h=document.createElement("img");if(h.setAttribute("class","sendpulse-bell-icon"),h.setAttribute("width","14"),h.setAttribute("height","14"),h.setAttribute("src","https://cdn.sendpulse.com/img/push/icon-ring.svg"),u){var S=document.createElement("span");S.setAttribute("class","sp-link-wrapper");var g=document.createElement("a");g.setAttribute("class","sp-link"),g.setAttribute("href","https://"+P+"/webpush"),g.setAttribute("target","_blank");var k=document.createElement("span");"sendpulse-modal"==r&&k.setAttribute("style","color:"+o.textcolor+" !important;"),k.innerHTML=v[s],"sendpulse-bar"!=r&&(g.innerHTML=c),g.appendChild(k),S.appendChild(g)}if("sendpulse-bar"==r){var x=document.createElement("div");x.setAttribute("class","sendpulse-prompt-info sendpulse-prompt-message-text"),x.setAttribute("style","color: "+o.textcolor+" !important;"),x.innerHTML+=p;var E=document.createElement("span");b.innerHTML+=d+'<svg viewBox="0 0 525.153 525.153" width="40" height="40" xmlns:xlink="http://www.w3.org/1999/xlink" class="sendpulse-bell-icon"><use class="sendpulse-bell-path" style="fill: '+o.textcolor+' !important;" xlink:href="#sp_bell_icon" x="0" y="0" />  </svg>'}else if("sendpulse-modal"==r||"sendpulse-safari"==r||"sendpulse-fab"==r){var x=document.createElement("div");x.setAttribute("class","sendpulse-prompt-title sendpulse-prompt-message-text"),o.textcolor.length>0&&x.setAttribute("style","color: "+o.textcolor+" !important;"),x.innerHTML=a;var E=document.createElement("div");if(E.setAttribute("class","sendpulse-prompt-info sendpulse-prompt-message-text"),o.textcolor.length>0&&E.setAttribute("style","color: "+o.textcolor+" !important;"),E.innerHTML+=p,"sendpulse-safari"==r?(h.setAttribute("src","https://cdn.sendpulse.com"+o.icon),h.setAttribute("width","64"),h.setAttribute("height","64"),b.appendChild(h)):"sendpulse-fab"!=r&&(b.innerHTML+=d+'<svg viewBox="0 0 525.153 525.153" width="40" height="40" xmlns:xlink="http://www.w3.org/1999/xlink" class="sendpulse-bell-icon"><use class="sendpulse-bell-path" style="fill: '+o.textcolor+' !important;" xlink:href="#sp_bell_icon" x="0" y="0" />  </svg>'),"sendpulse-fab"==r){var I=document.createElement("div");I.setAttribute("class","sendpulse-prompt-fab"),o.btncolor.length>0&&I.setAttribute("style","background-color: "+o.btncolor+" !important;"),I.innerHTML+=d+'<svg viewBox="0 0 525.153 525.153" width="40" height="40" xmlns:xlink="http://www.w3.org/1999/xlink" class="sendpulse-bell-icon" ><use class="sendpulse-bell-path bell-prompt-fab" style="fill: '+o.iconcolor+' !important;" xlink:href="#sp_bell_icon" x="0" y="0" /></svg>',I.setAttribute("onclick","oSpP.showPopUp(); return false;")}}}else{var m=document.createElement("div");m.setAttribute("class","sendpulse-prompt "+r),m.setAttribute("style",l);var b=document.createElement("div");b.setAttribute("class","sendpulse-prompt-message");var x=document.createElement("div");x.setAttribute("class","sendpulse-prompt-message-text"),x.innerHTML=t+" "+w[s];var E=document.createElement("div");E.setAttribute("class","sendpulse-prompt-info sendpulse-prompt-message-text");var h=document.createElement("img");h.setAttribute("class","sendpulse-bell-icon"),h.setAttribute("width","14"),h.setAttribute("height","14"),h.setAttribute("src","https://cdn.sendpulse.com/img/push/icon-ring.svg"),E.appendChild(h),E.innerHTML+=" "+A[s]}if("sendpulse-fab"!=r){var L=document.createElement("div");L.setAttribute("class","sendpulse-prompt-buttons");var C=document.createElement("button");C.setAttribute("class","sendpulse-prompt-btn sendpulse-accept-btn"),C.setAttribute("type","button"),C.setAttribute("onclick","oSpP.showPopUp(); return false;"),C.innerHTML=y[s];var T=document.createElement("button");if(T.setAttribute("class","sendpulse-prompt-btn sendpulse-disallow-btn"),T.setAttribute("type","button"),T.setAttribute("onclick","oSpP.denyMessage(); return false;"),T.innerHTML=D[s],"sendpulse-popover"!=r&&(C.innerHTML=o.allowbtntext,T.innerHTML=o.disallowbtntext,"sendpulse-safari"!=r&&(C.setAttribute("style","background-color:"+o.buttoncolor+" !important;border-color:"+o.buttoncolor+" !important;"),T.setAttribute("style","color:"+o.buttoncolor+" !important;"))),0==i.length&&u){var S=document.createElement("span");S.setAttribute("class","sp-link-wrapper");var g=document.createElement("a");g.setAttribute("class","sp-link"),g.setAttribute("href","https://"+P+"/webpush"),g.setAttribute("target","_blank");var k=document.createElement("span");k.innerHTML=v[s],"sendpulse-modal"==r&&k.setAttribute("style","color:"+o.textcolor+" !important;"),g.appendChild(k),S.appendChild(g),L.appendChild(S)}else u&&"undefined"!=typeof S&&L.appendChild(S);if(L.appendChild(T),L.appendChild(C),u&&"sendpulse-modal"==r){var M=document.createElement("div");M.innerHTML="&nbsp;",L.appendChild(M)}}if(b.appendChild(x),b.appendChild(E),"sendpulse-fab"!=r?(b.appendChild(L),"sendpulse-bar"==r&&u&&"undefined"!=typeof S&&m.appendChild(S),m.appendChild(b)):(u&&"undefined"!=typeof S&&b.appendChild(S),m.appendChild(b),m.appendChild(I)),"sendpulse-popover"!=r&&"sendpulse-safari"!=r&&"sendpulse-fab"!=r){var _=document.createElement("button");_.setAttribute("class","sendpulse-prompt-close"),_.setAttribute("onclick","oSpP.closePrompt(); return false;"),_.setAttribute("style","color:"+o.textcolor+" !important;"),_.innerHTML="&times;",m.appendChild(_)}if(document.body.insertBefore(m,document.body.childNodes[0]),"sendpulse-modal"==r){var V=document.createElement("div");V.setAttribute("class","sendpulse-prompt-backdrop"),V.setAttribute("style","display:none;"),document.body.insertBefore(V,document.body.childNodes[1])}setTimeout(function(){m.className+=m.className?" show-prompt":"show-prompt"},1e3)},this.denyMessage=function(){oSpP.sendPromptStat("prompt_denied"),oSpP.storeSubscription("DENY"),oSpP.closePrompt(!0)},this.closePrompt=function(e){void 0===e&&oSpP.sendPromptStat("prompt_closed"),document.body.removeChild(document.querySelector(".sendpulse-prompt")),document.getElementsByClassName("sendpulse-prompt-backdrop").length>0&&document.body.removeChild(document.querySelector(".sendpulse-prompt-backdrop")),oSpP.putValueToDb("SPIDs",{type:"PromptClosed",value:5})},this.initDb=function(e){if(m)return void e();var t=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,n=t.open("sendpulse_push_db",2);n.onsuccess=function(t){m=t.target.result,e()},n.onupgradeneeded=function(e){var t=e.target.result;t.createObjectStore("SPIDs",{keyPath:"type"})}},this.getDbValue=function(e,t,n){oSpP.initDb(function(){m.transaction([e],"readonly").objectStore(e).get(t).onsuccess=n})},this.putValueToDb=function(e,t){oSpP.initDb(function(){m.transaction([e],"readwrite").objectStore(e).put(t)})},this.deleteDbValue=function(e,t){oSpP.initDb(function(){m.transaction([e],"readwrite").objectStore(e)["delete"](t)})},this.log=function(e){},this.detectBrowser=function(){var e,t=navigator.userAgent,n=t.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[],o=t.match(/(edge(?=\/))\/?\s*(\d+)/i)||[];return"Edge"===o[1]?{name:o[1],version:o[2]}:/trident/i.test(n[1])?(e=/\brv[ :]+(\d+)/g.exec(t)||[],{name:"IE",version:e[1]||""}):"Chrome"===n[1]&&(e=t.match(/\bOPR\/(\d+)/),null!=e)?{name:"Opera",version:e[1]}:(n=n[2]?[n[1],n[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(e=t.match(/version\/(\d+)/i))&&n.splice(1,1,e[1]),{name:n[0],version:n[1]})},this.detectOs=function(){return navigator.userAgent.indexOf("Windows")!=-1?"Windows":navigator.userAgent.indexOf("Android")!=-1?"Android":navigator.userAgent.indexOf("Linux")!=-1?"Linux":navigator.userAgent.indexOf("iPhone")!=-1?"iOS":navigator.userAgent.indexOf("Mac")!=-1?"Mac OS":navigator.userAgent.indexOf("FreeBSD")!=-1?"FreeBSD":""},this.uns=function(){oSpP.deleteDbValue("SPIDs","SubscriptionId")},this.getMessageLang=function(e){return e=e.substring(0,2).toLowerCase(),"ua"==e||"uk"==e?"ua":"ru"==e?"ru":"de"==e?"de":"en"},this.push=function(t,n){return oSpP.detectSite()?(S[t]=n,void oSpP.getDbValue("SPIDs","SubscriptionId",function(e){void 0===e.target.result?g||(g=setInterval(function(){oSpP.getDbValue("SPIDs","SubscriptionId",function(e){void 0!==e.target.result&&(oSpP.sendUpdatesToServer(e.target.result.value),clearInterval(g),g=!1)})},1e3)):oSpP.sendUpdatesToServer(e.target.result.value)})):(oSpP.log("Application allowed only for "+e),!1)},this.sendUpdatesToServer=function(e){var t=new XMLHttpRequest;t.open("POST",l,!0),t.setRequestHeader("Content-Type","application/json");var n={action:"subscription",subscriptionId:e,subscription_action:"update_variables",appkey:r,custom_data:{variables:S}};t.send(JSON.stringify(n))},this.sendPromptStat=function(e){},this.getPromptDelay=function(){return parseInt(x)},this.startDelayedSubscription=function(e){if(parseInt(x)>0)var t=setInterval(function(){oSpP.getDbValue("SPIDs","PromptDelay",function(n){void 0!==n.target.result?(new Date).getTime()>=n.target.result.value&&(clearInterval(t),e()):e()})},1e3);else e()}}window.addEventListener("load",function(){oSpP.getPromptDelay()>0?oSpP.getDbValue("SPIDs","PromptDelay",function(e){void 0===e.target.result?(oSpP.putValueToDb("SPIDs",{type:"PromptDelay",value:(new Date).getTime()+1e3*oSpP.getPromptDelay()}),oSpP.start()):oSpP.start()}):oSpP.start()});var oSpP=new oSendpulsePush;
//# sourceMappingURL=maps/893cd11a1988a6c58df28a5c519d7a37_0.js.map
