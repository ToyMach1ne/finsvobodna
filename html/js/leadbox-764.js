function showFancyLeadboxes(){safetyCheck=!0,console.log("We can safely display timed/exit leadboxes.")}!function(e){var t={String:{reverse:function(){return this.split("").reverse().join("")}},Array:{indexOf:function(e,t){for(var n=t||0;n<this.length;n++)if(this[n]===e)return n;return-1}}};for(var n in t)(function(){var o=t[n],i=e[n];if(o&&i)for(var a in o)a in i||(i.prototype[a]=o[a])})()}(this);var safetyCheck=!1;!function(){var e=window.location&&"#debugblock"===String(window.location.hash);if(e)return void(safetyCheck=!1);var t="//my.leadpages.net/static/all/js/can-i-show.js",n=function(e){var n=e.split("/");return t=~n[0].indexOf("http")?"//"+n[2]+"/static/all/js/can-i-show.js":"//"+n[0]+"/static/all/js/can-i-show.js"};if(document.currentScript)t=n(document.currentScript.src);else for(var o=document.getElementsByTagName("script"),i=0;i<o.length;i++){var a=o[i].getAttribute("data-url"),l=a&&a.match(/(.+\/)leadbox\/([0-9a-fA-F]+%3A[0-9a-fA-F]+)\/([0-9]+)\/$/);if(l){t=n(a);break}}var d=document.createElement("script");d.src=t,document.getElementsByTagName("head")[0].appendChild(d)}(),function(){function e(e){var t=window.document.body,n=window.document.documentElement,o=Math.max(t.scrollWidth,n.scrollWidth,t.offsetWidth,n.offsetWidth,n.clientWidth),i=Math.max(t.scrollHeight,n.scrollHeight,t.offsetHeight,n.offsetHeight,n.clientHeight),a=window.innerWidth||n.clientWidth||t.clientWidth,l=window.innerHeight||n.clientWidth||t.clientWidth,d=window.setTimeout(function(){d=null,e(o,i,a,l)},100);"undefined"!=typeof FB&&FB.Canvas&&FB.Canvas.getPageInfo(function(t){null!=d&&(window.clearTimeout(d),d=null,t.clientWidth-t.offsetLeft<a&&(a=t.clientWidth-t.offsetLeft),t.clientHeight-t.offsetTop<l&&(l=t.clientHeight-t.offsetTop),e(o,i,a,l))})}function t(e){var t=document.documentElement,n=document.body,o=t&&t.scrollLeft||n&&n.scrollLeft||0,i=t&&t.scrollTop||n&&n.scrollTop||0,a=window.setTimeout(function(){a=null,e(o,i,0,0)},100);"undefined"!=typeof FB&&FB.Canvas&&FB.Canvas.getPageInfo(function(t){null!=a&&(window.clearTimeout(a),a=null,e(o,i,t.scrollLeft,t.scrollTop))})}function n(e,t,n,o){window.scrollTo(e,t),"undefined"!=typeof FB&&FB.Canvas&&FB.Canvas.scrollTo(n,o)}function o(e,t,n){for(var o=e.slice(0),i=0,a=e.length;i<a;i++)if(!1===t.call(n,o[i],i))return!1;return!0}function i(e,t,n){var o;return!!(e&&t&&n&&(o=e.addEventListener?"addEventListener":e.attachEvent?"attachEvent":"",t="addEventListener"==o?t:"on"+t,o))&&(e[o](t,function(t){t=t?t:window.event,n.apply(e,[t])}),!0)}function a(e,t){var n={id:null,loop:null,delay:t,block:e};return n.loop=function(){return n.block(),n.id=setTimeout(n.loop,n.delay),n},n.loop()}function l(e,t,n,o){var i={},a={x:t.x-e.x,y:t.y-e.y},l={x:o.x-n.x,y:o.y-n.y},d=(-a.y*(e.x-n.x)+a.x*(e.y-n.y))/(-l.x*a.y+a.x*l.y),s=(l.x*(e.y-n.y)-l.y*(e.x-n.x))/(-l.x*a.y+a.x*l.y);return d>=0&&d<=1&&s>=0&&s<=1?(i.x=e.x+s*a.x,i.y=e.y+s*a.y,i):null}if(!window.LEADBOX){window.LEADBOX={},LEADBOX.debugging=window.location&&"#debugging"===String(window.location.hash);var d=null,s=null,r=function(t){function n(t){e(function(e,t,n,o){w.x=n,w.y=o})}function d(e){if(e&&(h.x=e.clientX,h.y=e.clientY),t){var n=document.getElementsByTagName("i"),o=n&&n[0]?n[0]:document.createElement("i");document.body.appendChild(o),o.style.display="block",o.style.position="fixed",o.style.background="#000",o.style.width="6px",o.style.height="6px",o.style.marginLeft="-3px",o.style.marginTop="-3px",o.style.left=""+h.x+"px",o.style.top=""+h.y+"px",o.style.cursor="none",o.style.zIndex=101}}function r(){var n=y*(1e3/b);({x:h.x,y:h.y});for(var i in v)null!==h[i]?(g[i]=null!==p[i]?h[i]-p[i]:0,m[i]=h[i]+g[i]*n,p[i]=h[i]):p[i]=h[i]=m[i]=null;A=[{x:g.x,y:g.y}].concat(A.slice(0,B));var a=0,d={x:0,y:0};o(A,function(e,t){t<B&&(d.x=d.x+e.x,d.y=d.y+e.y,a++)}),d.x=Math.round(d.x/a)*n,d.y=Math.round(d.y/a)*n;var r={x:h.x+d.x,y:h.y+d.y};if(t){var w=document.getElementsByTagName("var"),L=w&&w[0]?w[0]:document.createElement("var");document.body.appendChild(L),r.x||r.y||document.body.removeChild(L),L.style.display="block",L.style.position="fixed",L.style.background="#AAA",L.style.width="6px",L.style.height="6px",L.style.marginLeft="-3px",L.style.marginTop="-3px",L.style.left=""+r.x+"px",L.style.top=""+r.y+"px",L.style.zIndex=100}e(function(e,t,n,o){var i={x:c?0-x:n-u-x,y:-1},a={x:c?0+u+x:n+x,y:-1},d=l(h,r,i,a);d?(E++,E>f&&!g.x&&!g.y&&s&&safetyCheck&&(window.LEADBOX.show(s),s=null)):E=0})}var c=navigator.platform.match(/(Mac|iPhone|iPod|iPad)/i)?1:0,u=350,y=.25,f=1,x=150,w=this.size={x:null,y:null},p=this.history={x:null,y:null},h=this.position={x:null,y:null},m=this.prediction={x:null,y:null},g=this.velocity={x:0,y:0},v={x:"y",y:"x"},b=100,E=0,A=[],B=3,L=document&&document.documentElement?document.documentElement:document.body;t&&(document.documentElement.style.cursor="none",document.body.style.cursor="none"),L.style.minHeight="100%",i(L,"mousemove",d),d(),i(window,"resize",n),n(),a(r,100)},c=function(){function o(t,n,o,i){var a={};u[t]||("&"!==n[n.length-1]&&(n+="&"),n+="__fromjs=1","undefined"==typeof window.postMessage||/Android|webOS|iPhone|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?u[t]=[n,o,a]:(u[t]=[document.createElement("iframe"),o,a],u[t][0].src=n.replace("lp-in-iframe=0","lp-in-iframe=1"),u[t][0].style.position="absolute",u[t][0].style.left="0",u[t][0].style.top="0",u[t][0].style.width="100%",u[t][0].style.display="none",u[t][0].style.border="none",u[t][0].style.zIndex="2147483647",u[t][0].onload=function(){window.LEADBOX.debugging&&(window.console&&console.log&&console.log("resetting leadbox",t),u[t][0].contentWindow.postMessage({handler:"reset",data:{id:i||t}},"*"));var e=JSON.stringify({handler:"visit",visit:{id:i||t}});u[t][0].contentWindow.postMessage(e,"*"),u[t][0].onload=null},document.body.appendChild(u[t][0]),e(function(e,n,o,i){u[t][0].style.height=i+"px"})))}function a(){f&&(u[f][0].style.display="none",y.style.display="none",f=null,document.body.style.overflow=x,x=null)}function l(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=((new Date).getTime()+16*Math.random())%16|0;return("x"==e?t:7&t|8).toString(16)})}function c(e,o,i){"function"==typeof o&&(i=o,o=null);var d=u[e][1]+"?",s={id:o||e,uuid:l(),type:"view",served_by:"leadboxes"};try{u[e][0].contentWindow.postMessage({handler:"display",display:{id:o||e}},"*")}catch(r){}for(var c in s)void 0!==s[c]&&(d+=encodeURIComponent(c)+"="+encodeURIComponent(s[c])+"&");var w=document.createElement("img");if("string"==typeof u[e][0]){var p=u[e][0].replace("__fromjs=1","__fromjs=0");window.open(p,"_blank")}else t(function(t,o,l,s){a(),x=document.body.style.overflow,n(t,o,l,s),document.body.style.overflow="hidden",u[e][0].style.top=o+s+"px",u[e][0].style.left=t+l+"px",u[e][0].style.display="block",y.style.display="block",f=e,i&&i(),w.src=d})}var u={},y=document.createElement("div");y.style.position="absolute",y.style.top=y.style.bottom=y.style.left=y.style.right="0",y.style.zIndex="2147483646",y.style.background="black",y.style.width="100%",y.style.opacity="0.5",y.style.display="none",document.body.appendChild(y);var f=null,x=null;y.onclick=a,this.resize=function(){e(function(e,t,n,o){y.style.height=t+"px";for(var i in u)"string"!=typeof u[i][0]&&(u[i][0].style.height=o+"px")})};for(var w=function(e){if(e&&e.data&&e.data.handler)switch(e.data.handler){case"visited":var t=e.data.visit.id,n=u[t][2]||{},o=e.data.visit,i=!0,l=864e5,d=Number(new Date(o["display-date"]||0)),r=Number(new Date),c=o["visit-count"]||0;if(d=d?d/l:0,r/=l,l=r-d,n.time){var y=n.time,f=1e3*y.seconds||0;i=!0,y.views&&(i=i&&!(c%(y.views+1))),y.days&&(i=i&&y.days<l),i&&setTimeout(function(){safetyCheck&&window.LEADBOX.show(t)},f)}if(n.exit){var x=n.exit;i=!0,x.days&&(i=i&&x.days<l),i&&(s=t)}break;case"displayed":}"close"==e.data&&a()},p=document.getElementsByTagName("script"),h=document.getElementsByTagName("a"),m=function(e){var t=this.getAttribute("data-leadbox"),n=this.getAttribute("data-leadbox-id");t&&(e&&e.preventDefault&&e.preventDefault(),c(t,n))},g=0;g<h.length;g++)try{!function(){var e,t=h[g],n=t.getAttribute("href"),i=n.split("?")[0].match(/(.+\/)leadbox\/([0-9a-fA-F]+%3A[0-9a-fA-F]+)\/([0-9]+)\/$/);i&&(e=i[2]=decodeURIComponent(i[2]),o(n,n+(n.indexOf("?")==-1?"?":"&")+"lp-in-iframe=0&"+window.location.search.replace(/^\?/,""),i[1]+"forms/pixel/"+i[3]+"/",e),t.setAttribute("data-leadbox",n),t.setAttribute("data-leadbox-id",e),t.onclick=m)}()}catch(v){}for(var g=0;g<p.length;g++)!function(e){var t=e.getAttribute("data-leadbox"),n=e.getAttribute("data-url"),i=n&&n.match(/(.+\/)leadbox\/([0-9a-fA-F]+%3A[0-9a-fA-F]+)\/([0-9]+)\/$/),a=e.getAttribute("data-config");if(a=a&&JSON&&JSON.parse(unescape(a)),i){var l=n+(n.indexOf("?")==-1?"?":"&")+"lp-in-iframe=0&"+window.location.search.replace(/^\?/,""),d=i[1]+"forms/pixel/"+i[3]+"/";if(o(t,l,d),a&&a.type){var s=u[t][2]=u[t]?u[t][2]:{};s[a.type]=a.settings}}}(p[g]);window.formFrameClosed=a,i(window,"message",w),setTimeout(function(){new r}),window.LEADBOX.reset=function(e){var t;for(t in u);u&&u[t]&&u[t][0].contentWindow.postMessage({handler:"reset",data:{id:e}},"*")},window.LEADBOX.show=function(e){e&&d!==e&&f!==e&&(d=e,u[e][0].contentWindow.postMessage({handler:"display",display:{id:e}},"*"),c(e,function(){d=null}))},window.LEADBOX.hide=function(){a()},window.LEADBOX&&window.LEADBOX.debugging&&window.console&&console.log&&console.log("debugging detected, resetting active leadboxes")},u=function(){window.ae417310535411e38f960800200c9a66||(window.ae417310535411e38f960800200c9a66=new c),window.ae417310535411e38f960800200c9a66.resize()};if(window.addEventListener)window.addEventListener("load",u),window.addEventListener("resize",u),document.addEventListener("DOMContentLoaded",u);else if(window.attachEvent)window.attachEvent("onload",u),window.attachEvent("onresize",u),document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&u()});else{var y=window.onload,f=window.onresize;window.onload=function(){u(),"function"==typeof y&&y()},window.onresize=function(e){u(),"function"==typeof f&&f(e)}}}}();
//# sourceMappingURL=maps/leadbox-764.js.map
