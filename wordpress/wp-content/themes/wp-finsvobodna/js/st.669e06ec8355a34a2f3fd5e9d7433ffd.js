function checkOptOut(){stlib.cookie.getCookie("st_optout")!==!1&&stlib.cookie.deleteAllSTCookie()}function initialPageTurn(){if("email"==widget.service)return void turnPage("email");if("sharethis"==widget.service)return void turnPage("main");if("wordpress"==widget.service)return void createPoster("wordpress");switch(widget.page){case"send":turnPage("email");break;case"home":turnPage("main");break;default:turnPage("main")}}function addToOptionsBuffer(e){var t=[];t=e.split("="),t[0]=decodeURIComponent(t[0]),t[1]=decodeURIComponent(t[1]);try{t[0]=decodeURIComponent(t[0]),t[1]=decodeURIComponent(t[1])}catch(s){}bufferArgs.push(t[0]),bufferValue.push(t[1])}function addToOptionsBuffer2(e){var t=[];t=e.split("-=-"),t[0]=decodeURIComponent(t[0]),t[1]=decodeURIComponent(t[1]);try{t[0]=decodeURIComponent(t[0]),t[1]=decodeURIComponent(t[1])}catch(s){}bufferArgs.push(t[0]),bufferValue.push(t[1])}function checkBufferArg(e){for(var t=!1,s=0;s<bufferRunArgs.length;s++)bufferRunArgs[s]==e&&(t=!0);return t}function processBuffer(){for(var e=0;e<bufferArgs.length;e++)checkBufferArg(bufferArgs[e])===!1&&(bufferRunArgs.push(bufferArgs[e]),setGlobals(bufferArgs[e],bufferValue[e]));addServiceLinks()}function fragObj(e,t){this.frag=e,this.qs=t}function addToOptions(e){var t=[];t=e.split("="),t[0]=decodeURIComponent(t[0]),t[1]=decodeURIComponent(t[1]);try{t[0]=decodeURIComponent(t[0]),t[1]=decodeURIComponent(t[1])}catch(s){}setGlobals(t[0],t[1])}function addToOptionsLight(e){var t=[];t=e.split("-=-"),t[0]=decodeURIComponent(t[0]),t[1]=decodeURIComponent(t[1]);try{t[0]=decodeURIComponent(t[0]),t[1]=decodeURIComponent(t[1])}catch(s){}setGlobals(t[0],t[1])}function addToOptions2(e){var t=[];t=e.split("="),t[0]=decodeURIComponent(t[0]);try{t[0]=decodeURIComponent(t[0]),t[1]=decodeURIComponent(t[1])}catch(s){}"pageHost"==t[0]?setGlobals("hostname",t[1]):"pagePath"==t[0]?setGlobals("location",t[1]):"pageTitle"==t[0]?setGlobals("title",t[1]):"pageURL"==t[0]?setGlobals("url",t[1]):"pageImage"==t[0]?setGlobals("image",t[1]):"pageSummary"==t[0]&&setGlobals("summary",t[1]),"done"==t[1]?(fragmentPump.initRun===!1&&(document.location.hash=glo_initFrag),glo_jsonStr=glo_jsonArray.join(""),glo_jsonArray=[],processFrag()):"jsonData"==t[0]&&glo_jsonArray.push(t[1])}function processFrag(){try{glo_jsonStr=decodeURIComponent(glo_jsonStr)}catch(e){}var t=glo_jsonStr,s=[];try{s=stlib.json.decode(t),null==s&&(t=decodeURIComponent(t),s=stlib.json.decode(t))}catch(e){t=decodeURIComponent(t),s=stlib.json.decode(t)}if(s&&s.length)for(var i=0;i<s.length;i++)setGlobals("title",s[i].title),setGlobals("type",s[i].type),setGlobals("summary",s[i].summary),setGlobals("content",s[i].content),setGlobals("short_url",s[i].short_url),setGlobals("url",s[i].url),setGlobals("icon",s[i].icon),setGlobals("category",s[i].category),setGlobals("updated",s[i].updated),setGlobals("published",s[i].published),setGlobals("author",s[i].author),setGlobals("thumb",s[i].icon),s[i].tags&&setGlobals("glo_tags_array",s[i].tags),s[i].description&&setGlobals("glo_description_array",s[i].description);addServiceLinks()}function setGlobals(e,t){if("pageInfo"!=e&&"shareInfo"!=e){try{t=decodeURIComponent(t)}catch(s){}try{t=decodeURIComponent(t)}catch(s){}}switch("true"==t?t=!0:"false"==t&&(t=!1),e){case"url":widget.URL=t,1==widget.popup&&initWidget();var i=extractDomainFromURL(t);null==i?i=widget.URL:null==widget.hostname&&(widget.hostname=i),widget.sharCreated||(widget.sharURL=t);break;case"short_url":widget.short_url=t;break;case"title":widget.title=t;break;case"pUrl":if(1!=widget.popup||null==widget.URL){widget.URL=t;var i=extractDomainFromURL(t);null==i?i=t:null==widget.hostname&&(widget.hostname=i)}break;case"fpc":widget.fpc=t;break;case"sessionID":widget.sessionID=t;break;case"publisher":widget.publisher=t;break;case"pageInfo":stlib.data.pageInfo=stlib.json.decode(t),stlib.data.pageInfo.product=encodeURIComponent(stlib.data.pageInfo.product);break;case"doNotHash":stlib.hash.doNotHash=t;break;case"servicePopup":widget.servicePopup=t;break;case"via":widget.via=t;break;case"summary":widget.summary=t;break;case"content":widget.content=t;break;case"icon":widget.icon=t;break;case"image":widget.thumb=t;break;case"category":widget.category=t;break;case"updated":widget.updated=t;break;case"author":widget.author=t;break;case"published":widget.published=t;break;case"thumb":widget.thumb=t;break;case"hostname":widget.hostname=t;break;case"message":widget.message=t;break;case"location":widget.location=t;break;case"guid_index":widget.guid_index=t;break;case"page":widget.page=t,t&&"send"==t?getEmailService():t&&"home"==t&&showHome();break;case"toolbar":widget.toolbar=t;break;case"services":widget.services=t;break;case"tracking":widget.tracking=!0,1==widget.domReady;break;case"tabs":var a=new RegExp(/email|send/);0==a.test(t)&&(widget.email_service=!1),0==a.test(t)&&(widget.sms_service=!1);break;case"send_services":var a=new RegExp(/email/);0==a.test(t)&&(widget.email_service=!1),a=new RegExp(/sms/),0==a.test(t)&&(widget.sms_service=!1);break;case"exclusive_services":"true"!=t&&1!=t||(widget.showAllServices=!1);break;case"post_services":null==widget.services?widget.services=t:widget.services+=","+t;break;case"stLight":widget.stLight=!0;break;case"doneScreen":widget.doneScreen=t;break;case"jsref":widget.jsref=t;break;case"type":widget.type=t;break;case"source":widget.source=t;break;case"service":widget.service=t;break;case"publisherGA":widget.publisherGA=t;break;case"relatedDomain":widget.relatedDomain=t;break;case"lang":if(""!=t){var n=t;"zh"==t?n="cn":"ja"==t&&(n="jp"),odjs("https:"==document.location.protocol?"https://ws.sharethis.com/secure/js/local/"+n+"/message.js":"http://w.sharethis.com/share4x/js/local/"+n+"/message.js",function(){currentLang=n,fillInLanguage()})}break;case"shorten":widget.shorten=t;break;case"headerTitle":case"linkfg":case"headerfg":case"headerbg":case"embeds":case"button":case"type":case"inactivefg":case"inactivebf":case"style":case"charset":case"hash_flag":case"onmouseover":case"inactivebg":case"send_services":case"buttonText":case"offsetLeft":case"offsetTop":case"buttonText":}}function getServiceLink(e){if(void 0==widget.all_services[e]&&"sharebox"!==e||0==widget.email_service&&"email"==e){var t=document.createElement("a"),s=document.createElement("li");return s.appendChild(t),null}var i=" rpChicklet";if(document.getElementById("post_"+e+"_link"))return null;if("email"==e){var t=document.createElement("a");t.className=e,t.className+=i,t.setAttribute("title",widget.all_services[e].title),t.setAttribute("id","post_"+e+"_link"),t.attachEvent?t.attachEvent("onclick",function(){getEmailService()}):t.setAttribute("onclick","getEmailService();"),t.setAttribute("href","javascript:void(0);"),t.appendChild(document.createTextNode(widget.all_services[e].title));var s=document.createElement("li");return s.appendChild(t),s}if("sharebox"==e){var t=document.createElement("a");t.className=e,t.className+=i,t.setAttribute("title",widget.sharebox.title),t.setAttribute("id","post_"+e+"_link"),t.setAttribute("href","javascript:void(0);"),t.appendChild(document.createTextNode(widget.sharebox.title));var s=document.createElement("li");return s.appendChild(t),s}if("wordpress"==e){var t=document.createElement("a");t.className=e,t.className+=i,t.setAttribute("title",widget.all_services[e].title),t.setAttribute("id","post_"+e+"_link"),t.attachEvent?t.attachEvent("onclick",function(){createPoster("wordpress")}):t.setAttribute("onclick",'createPoster("wordpress")'),t.setAttribute("href","javascript:void(0);"),t.appendChild(document.createTextNode(widget.all_services[e].title));var s=document.createElement("li");return s.appendChild(t),s}null==widget.service&&(widget.service="legacy");var t=document.createElement("a");t.className=e,t.className+=i,t.setAttribute("href","javascript:void(0);"),t.setAttribute("title",widget.all_services[e].title),t.setAttribute("id","post_"+e+"_link"),t.setAttribute("stservice",e),t.attachEvent?t.attachEvent("onclick",function(){serviceClicked(t)}):t.setAttribute("onclick","serviceClicked(this);"),t.appendChild(document.createTextNode(widget.all_services[e].title));var s=document.createElement("li");return s.appendChild(t),s}function turnPage(e){showLoadingBox(),hideError(),turnTitle(e,""),document.getElementById("mainPage").style.display="none",document.getElementById("emailPage").style.display="none",hideEmailPage(),document.getElementById("posterPage").style.display="none",document.getElementById("donePage").style.display="none",hideDoneScreen(),document.getElementById(e+"Page").style.display="block","email"==e&&(createShar(),showEmailPage()),hideLoadingBox()}function turnTitle(e,t){var s=lang.strings.msg_share;switch(e){case"main":s=lang.strings.msg_share;break;case"email":s=lang.strings.msg_email;break;case"done":s=lang.strings.msg_share_success;break;case"other":s=t}document.getElementById("popular").innerHTML=s}function getEmailService(e){stlib.gaLogger.gaLog("Chicklet","Email"),widget.poster=null,updateServiceCount("email","Email"),widget.isServiceClicked=!0,turnPage("email")}function showLoadingBox(){document.getElementById("loadingPage").style.display="block"}function hideLoadingBox(){document.getElementById("loadingPage").style.display="none"}function addServiceLinks(){function e(e){if("undefined"!=typeof e&&""!=e&&("whatsapp"!=e&&"kik"!=e||stlib.browser.mobile.isIOs()||stlib.browser.mobile.isAndroid())){var s=getServiceLink(e);return null!=s&&(t=document.createElement("div"),t.className+="largeChicklet lc_"+e,s.getElementsByTagName("A")[0].appendChild(t),i.appendChild(s),!0)}}var t,s=extractServicesFromCookie(),i=document.getElementById("top_chicklets");for(this.services={abc:!1},"undefined"!=typeof widget.all_services.email&&lang&&lang.strings&&lang.strings.msg_email_button&&(stlib.allServices.email.title=lang.strings.msg_email_button);i.childNodes.length>=1;)i.removeChild(i.firstChild);for(var a=0,n=widget.services.split(","),r=0;r<n.length;r++)"undefined"==typeof this.services[n[r]]&&e(n[r])&&(a++,this.services[n[r]]=!0);if(widget.showAllServices){if(null!==s)for(var o=s.split(","),r=0;r<o.length;r++)a<10&&"undefined"==typeof this.services[o[r]]&&e(o[r])&&(a++,this.services[o[r]]=!0);for(var l=widget.top_services.split(","),r=0;r<l.length;r++)a<10&&"undefined"==typeof this.services[l[r]]&&e(l[r])&&(a++,this.services[n[r]]=!0);"undefined"!=typeof widget.all_services.sharethis&&delete stlib.allServices.sharethis;for(var r in widget.all_services)e(r)}}function searchFocus(){var e=document.getElementById("chicklet_search_field");e.value==lang.strings.msg_search_services&&(e.value=""),stlib.gaLogger.gaLog("Search","focus")}function searchBlur(){var e=document.getElementById("chicklet_search_field");""==e.value&&(e.value=lang.strings.msg_search_services)}function searchAndDisplay(e){if(""!=e){try{var t=new RegExp("^"+e,"gi")}catch(s){return!1}try{var i=new RegExp(e,"gi")}catch(s){return!1}var a=[],n=[];for(var r in widget.all_services){var o=widget.all_services[r].title;1==i.test(o)&&"sharebox"!=r?n.push(r):1==i.test(o),1==t.test(o)&&"sharebox"!=r&&a.push(r)}var l=document.getElementById("post_"+a[0]+"_link");if(l=l?l:document.getElementById("post_"+n[0]+"_link")){var d=0;for(r=0;r<l.parentNode.parentNode.childNodes.length;r++){var c=l.parentNode.parentNode.childNodes[r],g=c.childNodes[0];g.childNodes[0].data;if(c==l.parentNode){d=Math.floor(r/2),g.innerHTML=g.innerHTML.replace("<span>",""),g.innerHTML=g.innerHTML.replace("</span>","");try{var u=new RegExp(e+"(?=.*<di)","i")}catch(s){return!1}g.innerHTML=g.innerHTML.replace(u,"<span>"+u.exec(g.innerHTML)+"</span>"),g.className=g.className.replace(" searchedLi",""),g.className=g.className+" searchedLi"}else g.innerHTML=g.innerHTML.replace("<span>",""),g.innerHTML=g.innerHTML.replace("</span>",""),g.className=g.className.replace(" searchedLi","")}moveServices(d,!0)}return widget.lastSearchTerm=e,!0}var h=document.getElementById("top_chicklets");for(r=0;r<h.childNodes.length;r++){var c=h.childNodes[r],g=c.childNodes[0];g.innerHTML=g.innerHTML.replace("<span>",""),g.innerHTML=g.innerHTML.replace("</span>",""),g.className=g.className.replace(" searchedLi","")}}function extractServicesFromCookie(){var e=stlib.json.decode(stlib.cookie.getCookie("ServiceHistory")),t=[],s=null;for(o in e)t.push(e[o]);t.sort(serviceSort),t.length>0&&(s="");for(var i=0;i<t.length;i++)s+=i<t.length-1?t[i].service+",":t[i].service;return s}function serviceClicked(e){var t=e.getAttribute("stservice"),s=e.getAttribute("title");updateServiceCount(t,s),stlib.data.resetShareData(),stlib.data.set("url",widget.URL,"shareInfo"),stlib.data.set("short_url",widget.short_url,"shareInfo"),stlib.data.set("shorten",widget.shorten,"shareInfo"),stlib.data.set("title",widget.title,"shareInfo"),stlib.data.set("image",widget.thumb,"shareInfo"),stlib.data.set("description",widget.summary,"shareInfo"),stlib.data.set("buttonType","large","shareInfo"),stlib.data.set("destination",t,"shareInfo"),1==widget.popup&&"sharethis.js"!=widget.source?stlib.data.setSource("share4xpage",widget):stlib.data.setSource("share4x",widget),"twitter"==t&&null!=widget.via&&stlib.data.set("via",widget.via,"shareInfo"),""!=widget.message&&stlib.data.set("message",widget.message,"shareInfo"),stlib.sharer.share(null,widget.servicePopup),"pinterest"!=t||0!=stlib.data.get("image","shareInfo")&&null!=stlib.data.get("image","shareInfo")||null!=stlib.data.get("source","shareInfo").match(/share4xpage/)||(stlib.browser.ieFallback?"undefined"!=typeof window.postMessage&&""!==document.referrer&&parent.postMessage("#Pinterest Click",document.referrer):fragInstance.broadcastSendMessage("Pinterest Click")),stlib.gaLogger.gaLog("Share",t),"print"==t?("undefined"!=typeof window.postMessage&&parent.postMessage("ShareThis|close|Print",document.referrer),stlib.browser.ieFallback?"undefined"!=typeof window.postMessage&&""!==document.referrer&&parent.postMessage("#Print Click",document.referrer):fragInstance.broadcastSendMessage("Print Click")):showDoneScreen(),stlib.gaLogger.shareLog(t)}function updateServiceCount(e,t){if(void 0==widget.all_services[e]||"sharebox"==e)return!1;var s=stlib.json.decode(stlib.cookie.getCookie("ServiceHistory"));if(0==s||null==s||s.length<1)return s={},s[e]={},s[e].service=e,s[e].title=t,s[e].count=1,stlib.cookie.setCookie("ServiceHistory",stlib.json.encode(s)),!0;var i=!1,a=[];for(o in s)s[o].service==e&&(s[o].count++,s[o].title=t,i=!0),a.push(s[o]);if(0==i)s[e]={},s[e].service=e,s[e].title=t,s[e].count=1;else{a.sort(function(e,t){return t.count-e.count}),s={};for(var n=0;n<a.length;n++)s[a[n].service]=a[n]}return stlib.cookie.setCookie("ServiceHistory",stlib.json.encode(s)),!0}function serviceSort(e,t){return e.count==t.count?0:e.count>t.count?-1:1}function getMainCss(){return 0==widget.mainCssLoaded&&(odcss("https:"==document.location.protocol?"https://ws.sharethis.com/secure/css/share.e4ab8fa373f4ff4f83a78dd89dfdbebc.css":"http://w.sharethis.com/share4x/css/share.e4ab8fa373f4ff4f83a78dd89dfdbebc.css",function(){},!0),void(widget.mainCssLoaded=!0))}function extractDomainFromURL(e,t){try{var s=e.replace(/(\w+):\/\/([^\/:]+)(:\d*)?([^# ]*)/,"$2");return t||0!=s.toLowerCase().indexOf("www.")||(s=s.substring(4)),s=s.replace(/#.*?$/,"")}catch(i){return null}}function initWidget(){if(getMainCss(),null==widget.URL)return!0;var e=["return=json","url="+encodeURIComponent(widget.URL),"fpc="+widget.fpc,"cb=initWidgetOnSuccess","service=initWidget"];return e=e.join("&"),jsonp.makeRequest(("https:"==document.location.protocol?"https://ws.sharethis.com/":"http://wd.sharethis.com/")+"api/getApi.php?"+e),!0}function initWidgetOnSuccess(e){e&&e.data&&(widget.metaInfo=e.data),e&&e.data&&e.data.ga&&1==e.data.ga&&(stlib.cookie.getCookie("st_optout")!==!1||stlib.gaLogger.initGA("UA-1645146-9",widget))}function odjs(e,t){stlib.scriptLoader.loadJavascript(e,t)}function odcss(e,t){stlib.scriptLoader.loadCSS(e,t)}function initialize(){showLoadingBox();var e=!1,t=navigator.userAgent,s=/bot|gomez|keynote/gi;if(t&&null!==t&&t.length>4){var i=t.match(s);i&&null!==i&&i.length>0&&(e=!0)}else e=!0;1==fragmentPump.initRun&&processBuffer(),widget.domReady=!0;var a=document.getElementById("chicklet_search_field");if(a.onfocus=function(){searchFocus()},a.onblur=function(){searchBlur()},a.onkeyup=function(){searchAndDisplay(this.value)},fillInLanguage(),stlib.cookie.getCookie("st_optout")!==!1){document.cookie;widget.optout=!0,widget.fpc="optout"}}function fillInLanguage(){turnTitle("main",""),document.getElementById("chicklet_search_field").value=lang.strings.msg_search_services,document.getElementById("chicklet_search_field").setAttribute("placeholder",lang.strings.msg_search_services),document.getElementById("imgDoneScreenMonitor").setAttribute("alt",lang.strings.msg_share_anywhere),document.getElementById("btnShareAgain").innerHTML=lang.strings.msg_share_again+" &raquo;",document.getElementById("btnBookmark").innerHTML=lang.strings.msg_add_bookmark+" &raquo;",document.getElementById("btnClose").innerHTML=lang.strings.msg_close,document.getElementById("btnBack").innerHTML="&laquo; "+lang.strings.msg_back,document.getElementById("powered_text").innerHTML=lang.strings.msg_powered+"&nbsp;&nbsp;",document.getElementById("poster_message").innerHTML=lang.strings.msg_message,document.getElementById("poster_message2").innerHTML=lang.strings.msg_blog_url,document.getElementById("posterSubmit").innerHTML=lang.strings.msg_submit,document.getElementById("posterCancel").innerHTML=lang.strings.msg_email_cancel,document.getElementById("doNotTrack_text").innerHTML=lang.strings.msg_track}function hideDoneScreen(){document.getElementById("btnBookmark").parentNode.parentNode.style.display="none",document.getElementById("btnShareAgain").style.display="none"}function doneShareAgainClick(){turnPage("main")}function showDoneScreen(){turnPage("done");var e=("https:"==document.location.protocol?"https://ws.":"http://w.")+"sharethis.com/images/reskin2014/",t="",s="",i="_noText";currentLang||(i=""),stlib.browser.getIEVersion()?(t="stBtnExplorer",s=e+"share_success.png"):stlib.browser.isChrome()?(t="stBtnChrome",s=e+"share_success.png"):stlib.browser.isSafari()?(t="stBtnSafari",s=e+"share_success.png"):stlib.browser.isOpera()?(t="stBtnOpera",s=e+"share_success.png"):(t="stBtnFirefox",s=e+"share_success.png");var a=document.getElementById("imgDoneScreenMonitor");a.src=s;var n=document.getElementById("btnBookmark");n.className=t,n.parentNode.parentNode.style.display="block",n.parentNode.onclick=function(){moveServices(0),doneShareAgainClick(),stlib.gaLogger.gaLog("DoneScreen","ShareAgain")},document.getElementById("btnShareAgain").style.display="block",document.getElementById("btnShareAgain").onclick=function(){moveServices(0),doneShareAgainClick(),stlib.gaLogger.gaLog("DoneScreen","ShareAgain")}}function showHome(){turnPage("main")}function createPoster(e){null==widget.title&&(widget.title=widget.URL),document.getElementById("poster_inputBox").value="",document.getElementById("poster_inputBox").onfocus=function(){hideError()};var t=lang.strings.msg_post_to;"twitter"==e?(updateServiceCount(e,"Tweet"),stlib.gaLogger.gaLog("Twitter","poster_clicked"),widget.poster="twitter",document.getElementById("poster_textArea").style.display="block",document.getElementById("poster_textArea").value="",createShar(),document.getElementById("comment_box").style.display="block",document.getElementById("poster_input_div").style.display="none",document.getElementById("poster_textArea").onkeypress=poster.updateCounter,document.getElementById("poster_message_counter").style.display="block",t+=" Twitter",turnPage("poster")):"wordpress"==e&&(updateServiceCount(e,"Wordpress"),widget.poster="wordpress",stlib.gaLogger.gaLog("Wordpress","poster_clicked"),document.getElementById("poster_textArea").style.display="none",document.getElementById("comment_box").style.display="none",document.getElementById("poster_input_div").style.display="block",document.getElementById("poster_message_counter").style.display="none",document.getElementById("poster_message_counter").style.display="none",t=lang.strings.msg_post_wordpress,turnPage("poster")),turnTitle("other",t)}function createShar(){var e=widget.URL;if(e==widget.lastURL&&0==widget.shorten){var t=(null!=widget.title?widget.title+" - ":"")+widget.sharURL;document.getElementById("poster_textArea").value=t,poster.updateCounter()}else if((""!==e&&" "!==e&&null!==e&&widget.lastURL!=e||0==widget.sharCreated)&&1==widget.shorten){widget.sharCreated=!1,widget.sharURL=e,document.getElementById("poster_textArea").value=lang.strings.msg_loading,widget.lastURL=e;var s=["return=json","cb=createShar_onSuccess","service=createSharURL","url="+encodeURIComponent(e),"sessionID="+widget.sessionID,"fpc="+widget.fpc];s=s.join("&"),jsonp.makeRequest(("https:"==document.location.protocol?"https://ws.sharethis.com/":"http://wd.sharethis.com/")+"api/getApi.php?"+s)}}function createShar_onSuccess(e){"undefined"!=typeof e&&"SUCCESS"==e.status&&(widget.sharURL=e.data.sharURL,widget.sharCreated=!0);var t=(null!=widget.title?widget.title+" - ":"")+widget.sharURL;document.getElementById("poster_textArea").value=t,poster.updateCounter()}function moveServices(e,t){if(0==e){var s=document.getElementById("chicklet_search_field");null==s||"undefined"!=typeof t||t||(s.value=lang.strings.msg_search_services)}document.getElementById("all_chicklets").scrollTop=46*e}function showEmailPage(){return widget.isServiceClicked?(document.getElementById("btnClose").style.display="none",document.getElementById("btnBack").style.display="block",document.getElementById("btnBack").onclick=function(){moveServices(0),emailGoBackClick(),stlib.gaLogger.gaLog("New Email share page - 4x","Go Back clicked")}):(document.getElementById("btnBack").style.display="none",document.getElementById("btnClose").style.display="block",document.getElementById("btnClose").onclick=function(){closeEmailWidget(),stlib.gaLogger.gaLog("New Email share page - 4x","Close clicked")}),document.getElementById("email_main").onclick=function(e){e=e||window.event;var t=e.target||e.srcElement;return emailShareExternal(t)},widget.isServiceClicked=!1,stlib.gaLogger.gaLog("New Email share page - 4x","Opened"),!1}function closeEmailWidget(){"undefined"!=typeof window.postMessage&&parent.postMessage("ShareThis|close|Email",document.referrer)}function hideEmailPage(){document.getElementById("btnBack").style.display="none",document.getElementById("btnClose").style.display="none"}function urlEncodeCharacter(e){return"%"+e.charCodeAt(0).toString(16)}function urlEncode(e){return escape(e)}function getExternalEmailBody(e,t,s){var i={type:widget.type,recipients:"",url:widget.URL,title:widget.title,thumbnail:widget.thumb,embed:widget.content,description:widget.summary,sharURL:""!=t?t:widget.URL},a="This message was sent using ShareThis (http://www.sharethis.com)",n="\r\n\r\n";"mailto"==e&&(n=urlEncode(n),i.description&&(i.description=i.description.replace(/%/g,urlEncodeCharacter)));var r=i.sharURL;i.description&&1!=s&&2!=s&&(r+=n+i.description),r+=n+a;var o=r,l=i.recipients?i.recipients:"",d=i.title?i.title:"Message Subject",c=r?r:"Message Body";o=o?o:"Message Body";var g={};g.gmail={href:"https://mail.google.com/mail/?view=cm",su:encodeURIComponent(d),to:l,body:encodeURIComponent(c)},g.yahoo={href:"//compose.mail.yahoo.com/?",Subject:encodeURIComponent(d.replace(/%/g,urlEncodeCharacter).replace(/&/g,urlEncodeCharacter).replace(/#/g,urlEncodeCharacter).replace(/'/g,urlEncodeCharacter).replace(/"/g,urlEncodeCharacter).replace(/>/g,urlEncodeCharacter).replace(/</g,urlEncodeCharacter).replace(/\\n/g,"").replace(/\\r/g,"").replace(/\\/g,"")),To:l,Body:urlEncode(o.replace(/#/g,urlEncodeCharacter).replace(/\r\n/g,"<br>"))},g.outlook={href:"//mail.live.com/default.aspx?rru=compose",subject:encodeURIComponent(d),to:l,body:encodeURIComponent(c.replace(/\r\n/g,"<br>").replace(/\(/g,"[").replace(/\)/g,"]"))},g.mailto={href:"mailto:"+l+"?",Subject:d.replace(/%/g,urlEncodeCharacter).replace(/&/g,urlEncodeCharacter).replace(/#/g,urlEncodeCharacter).replace(/'/g,urlEncodeCharacter).replace(/"/g,urlEncodeCharacter).replace(/>/g,urlEncodeCharacter).replace(/</g,urlEncodeCharacter),Body:c.replace(/&/g,urlEncodeCharacter).replace(/#/g,urlEncodeCharacter).replace(/'/g,urlEncodeCharacter).replace(/"/g,urlEncodeCharacter).replace(/>/g,urlEncodeCharacter).replace(/</g,urlEncodeCharacter)};var u="";for(var h in g[e])"href"==h?u+=g[e][h]:("mailto"==e&&"Subject"==h||(u+="&"),u+=h+"="+g[e][h]);return u}function clearExEmailSharPoller(e){for(var t=0;t<e.length;t++)clearTimeout(e[t])}function shareExternalEmail(e,t,s){var i=1200;updateServiceCount("email","Email");var a=getExternalEmailBody(t,s,null);i<encodeURIComponent(a).length&&(a=getExternalEmailBody(t,s,1)),stlib.data.resetShareData();var n="";n=stlib.cookie.getCookie("ShareUT"),0!=n&&"undefined"!=n&&"undefined"!=typeof n||(n=0==stlib.cookie.checkCookiesEnabled()&&1==stlib.cookie.hasLocalStorage()?localStorage.ShareUT:""),null!=widget.type&&"undefined"!=typeof widget.type||(widget.type=""),stlib.data.set("url",widget.URL,"shareInfo"),stlib.data.set("short_url",widget.short_url,"shareInfo"),stlib.data.set("title",widget.title,"shareInfo"),stlib.data.set("destination","email","shareInfo"),stlib.data.set("destinations","email","shareInfo"),stlib.data.set("ip","","shareInfo"),stlib.data.set("agent",navigator.userAgent,"shareInfo"),stlib.data.set("clicookie",stlib.cookie.getCookie("__stid"),"shareInfo"),stlib.data.set("token",n,"shareInfo"),stlib.data.set("buttonType",widget.type,"shareInfo"),stlib.data.set("emailDestination","email","shareInfo"),stlib.data.set("sharURL",s,"shareInfo"),stlib.data.setSource("4x",widget),stlib.sharer.share(null,null),stlib.gaLogger.shareLog("Email"),stlib.gaLogger.gaLog("New Email share page - 4x","External_"+t),e.location=a,"mailto"==t&&setTimeout(function(){e.close()},1e3),showDoneScreen()}function emailShareExternal(e){var t="",s=e.getAttribute("data-value"),i="";switch(s){case"gmail":i="Connecting you to GMail";break;case"yahoo":i="Connecting you to Yahoo! Mail";break;case"outlook":i="Connecting you to Outlook";break;case"mailto":i="Connecting you to your native email client";break;default:return!1}var a,n,r=window.open("");if(r){var o="<!DOCTYPE><html><head><title>"+i+'</title></head><body><div id="lightbox" style="height:41px; width:410px; z-index:+1; position:fixed; border:4px solid #ccc; top:40%; left:33%; padding:8px; background-color:#eee; text-align:center; -moz-border-radius:9px; -webkit-border-radius:9px; border-radius:9px;"><div style="margin-right:10px"><span id="lightboxText" style="color:#777; font-family:Tahoma; font-size:1.3em;">'+i+'</span><span style="display:block; font-size:0.7em;color:#999; padding-top:4px;">It will be just a second..</span></div></div><div id="overlay" style="width: 99%; height: 100%; opacity: 0.9;background-color:#000;position:fixed;"></div></body></html>';r.document.write(o),n=setInterval(function(){t=widget.sharURL,""!=t&&(clearExEmailSharPoller([n,a]),shareExternalEmail(r,s,t))},100),a=setTimeout(function(){clearExEmailSharPoller([n,a]),shareExternalEmail(r,s,"")},5e3)}else showError(lang.strings.msg_popup_blocker)}function emailGoBackClick(){turnPage("main")}function showError(e){var t=document.getElementById("errorMsg");t.innerHTML=e,t.style.display="block",document.getElementById("errorBottom").style.display="block"}function hideError(){var e=document.getElementById("errorMsg");e.innerHTML="",e.style.display="none",document.getElementById("errorBottom").style.display="none"}var stlib=stlib||{functions:[],functionCount:0,util:{prop:function(e,t){return t?t[e]:function(t){return t[e]}}},dynamicOn:!0,setPublisher:function(e){stlib.publisher=e},setProduct:function(e){stlib.product=e},parseQuery:function(e){var t=new Object;if(!e)return t;for(var s=e.split(/[;&]/),i=0;i<s.length;i++){var a=s[i].split("=");if(a&&2==a.length){var n=unescape(a[0]),r=unescape(a[1]);r=r.replace(/\+/g," "),t[n]=r}}return t},getQueryParams:function(){var e=document.getElementById("st_insights_js");if(e&&e.src){var t=e.src.replace(/^[^\?]+\??/,""),s=stlib.parseQuery(t);stlib.setPublisher(s.publisher),stlib.setProduct(s.product)}}};stlib.global={hash:stlib.util.prop("hash",document.location).substr(1)},stlib.getQueryParams(),stlib.debugOn=!1,stlib.debug={count:0,messages:[],debug:function(e,t){t&&"undefined"!=typeof console&&console.log(e),stlib.debug.messages.push(e)},show:function(e){for(message in stlib.debug.messages)"undefined"!=typeof console&&(e?/ERROR/.test(stlib.debug.messages[message])?console.log(stlib.debug.messages[message]):null:console.log(stlib.debug.messages[message]))},showError:function(){stlib.debug.show(!0)}};var _$d=function(e){stlib.debug.debug(e,stlib.debugOn)},_$d0=function(){_$d(" ")},_$d_=function(){_$d("___________________________________________")},_$d1=function(e){_$d(_$dt()+"| "+e)},_$d2=function(e){_$d(_$dt()+"|  * "+e)},_$de=function(e){_$d(_$dt()+"ERROR: "+e)},_$dt=function(){var e=new Date,t=e.getHours(),s=e.getMinutes(),i=e.getSeconds();return t+":"+s+":"+i+" > "};stlib.json={c:{"\b":"b","\t":"t","\n":"n","\f":"f","\r":"r",'"':'"',"\\":"\\","/":"/"},d:function(e){return e<10?"0".concat(e):e},e:function(c,f,e){return e=eval,delete eval,"undefined"==typeof eval&&(eval=e),f=eval(""+c),eval=e,f},i:function(e,t,s){return 1*e.substr(t,s)},p:["","000","00","0",""],rc:null,rd:/^[0-9]{4}\-[0-9]{2}\-[0-9]{2}T[0-9]{2}:[0-9]{2}:[0-9]{2}$/,rs:/(\x5c|\x2F|\x22|[\x0c-\x0d]|[\x08-\x0a])/g,rt:/^([0-9]+|[0-9]+[,\.][0-9]{1,3})$/,ru:/([\x00-\x07]|\x0b|[\x0e-\x1f])/g,s:function(e,t){return"\\".concat(stlib.json.c[t])},u:function(e,t){var s=t.charCodeAt(0).toString(16);return"\\u".concat(stlib.json.p[s.length],s)},v:function(e,t){return stlib.json.types[typeof result](result)!==Function&&(t.hasOwnProperty?t.hasOwnProperty(e):t.constructor.prototype[e]!==t[e])},types:{"boolean":function(){return Boolean},"function":function(){return Function},number:function(){return Number},object:function(e){return e instanceof e.constructor?e.constructor:null},string:function(){return String},undefined:function(){return null}},$$:function(e){function t(t,s){s=t[e],delete t[e];try{stlib.json.e(t)}catch(i){return t[e]=s,1}}return t(Array)&&t(Object)},encode:function(){var e,t,s=arguments.length?arguments[0]:this;if(null===s)e="null";else if(void 0!==s&&(t=stlib.json.types[typeof s](s)))switch(t){case Array:e=[];for(var i=0,a=0,n=s.length;a<n;a++)void 0!==s[a]&&(t=stlib.json.encode(s[a]))&&(e[i++]=t);e="[".concat(e.join(","),"]");break;case Boolean:e=String(s);break;case Date:e='"'.concat(s.getFullYear(),"-",stlib.json.d(s.getMonth()+1),"-",stlib.json.d(s.getDate()),"T",stlib.json.d(s.getHours()),":",stlib.json.d(s.getMinutes()),":",stlib.json.d(s.getSeconds()),'"');break;case Function:break;case Number:e=isFinite(s)?String(s):"null";break;case String:e='"'.concat(s.replace(stlib.json.rs,stlib.json.s).replace(stlib.json.ru,stlib.json.u),'"');break;default:var r,i=0;e=[];for(r in s)void 0!==s[r]&&(t=stlib.json.encode(s[r]))&&(e[i++]='"'.concat(r.replace(stlib.json.rs,stlib.json.s).replace(stlib.json.ru,stlib.json.u),'":',t));e="{".concat(e.join(","),"}")}return e},decode:function(e){if("string"==typeof e){var t=null;try{return/^[\],:{}\s]*$/.test(e.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))?t=window.JSON&&window.JSON.parse?window.JSON.parse(e):new Function("return "+e)():null}catch(s){}}}};try{stlib.json.rc=new RegExp('^("(\\\\.|[^"\\\\\\n\\r])*?"|[,:{}\\[\\]0-9.\\-+Eaeflnr-u \\n\\r\\t])+?$')}catch(z){stlib.json.rc=/^(true|false|null|\[.*\]|\{.*\}|".*"|\d+|\d+\.\d+)$/}var tpcCookiesEnableCheckingDone=!1,tpcCookiesEnabledStatus=!0;stlib.cookie={setCookie:function(e,t,s){var i=navigator.userAgent.indexOf("Safari")!=-1&&navigator.userAgent.indexOf("Chrome")==-1,a=navigator.userAgent.indexOf("MSIE")!=-1;if(i||a){var n=s?24*s*60*60:0,r=document.createElement("div");
r.setAttribute("id",e),r.setAttribute("type","hidden"),document.body.appendChild(r);var o=document.getElementById(e),l=document.createElement("form");try{var d=document.createElement('<iframe name="'+e+'" ></iframe>')}catch(c){d=document.createElement("iframe")}d.name=e,d.src="javascript:false",d.style.display="none",o.appendChild(d),l.action=("https:"==document.location.protocol?"https://sharethis.com/":"http://sharethis.com/")+"account/setCookie.php",l.method="POST";var g=document.createElement("input");g.setAttribute("type","hidden"),g.setAttribute("name","name"),g.setAttribute("value",e),l.appendChild(g);var u=document.createElement("input");u.setAttribute("type","hidden"),u.setAttribute("name","value"),u.setAttribute("value",t),l.appendChild(u);var h=document.createElement("input");h.setAttribute("type","hidden"),h.setAttribute("name","time"),h.setAttribute("value",n),l.appendChild(h),l.target=e,o.appendChild(l),l.submit()}else{if(s){var p=new Date;p.setTime(p.getTime()+24*s*60*60*1e3);var m="; expires="+p.toGMTString()}else var m="";var f=e+"="+escape(t)+m;f+="; domain="+escape(".sharethis.com")+";path=/",document.cookie=f}},setTempCookie:function(e,t,s){if(s){var i=new Date;i.setTime(i.getTime()+24*s*60*60*1e3);var a="; expires="+i.toGMTString()}else var a="";var n=e+"="+escape(t)+a;n+="; domain="+escape(".sharethis.com")+";path=/",document.cookie=n},getCookie:function(e){var t=document.cookie.match("(^|;) ?"+e+"=([^;]*)(;|$)");return!!t&&unescape(t[2])},deleteCookie:function(e){var t="/",s=".sharethis.com";document.cookie=e.replace(/^\s+|\s+$/g,"")+"="+(t?";path="+t:"")+(s?";domain="+s:"")+";expires=Thu, 01-Jan-1970 00:00:01 GMT";var i=navigator.userAgent.indexOf("Safari")!=-1&&navigator.userAgent.indexOf("Chrome")==-1,a=navigator.userAgent.indexOf("MSIE")!=-1;if(i||a){var n=document.createElement("div");n.setAttribute("id",e),n.setAttribute("type","hidden"),document.body.appendChild(n);var r=document.getElementById(e),o=document.createElement("form");try{var l=document.createElement('<iframe name="'+e+'" ></iframe>')}catch(d){l=document.createElement("iframe")}l.name=e,l.src="javascript:false",l.style.display="none",r.appendChild(l),o.action=("https:"==document.location.protocol?"https://sharethis.com/":"http://sharethis.com/")+"account/deleteCookie.php",o.method="POST";var c=document.createElement("input");c.setAttribute("type","hidden"),c.setAttribute("name","name"),c.setAttribute("value",e),o.appendChild(c),o.target=e,r.appendChild(o),o.submit()}},deleteAllSTCookie:function(){var e=document.cookie;e=e.split(";");for(var t=0;t<e.length;t++){var s=e[t];if(s=s.split("="),!/st_optout/.test(s[0])){var i=s[0],a="/",n=".edge.sharethis.com";document.cookie=i+"=;path="+a+";domain="+n+";expires=Thu, 01-Jan-1970 00:00:01 GMT"}}},setFpcCookie:function(e,t){var s=new Date,i=s.getFullYear(),a=s.getMonth()+9,n=s.getDate(),r=e+"="+escape(t);if(i){var o=new Date(i,a,n);r+="; expires="+o.toGMTString()}var l=stlib.cookie.getDomain();r+="; domain="+escape(l)+";path=/",document.cookie=r},getFpcCookie:function(e){var t=document.cookie.match("(^|;) ?"+e+"=([^;]*)(;|$)");return!!t&&unescape(t[2])},getDomain:function(){var e=document.domain.split(/\./),t="";return e.length>1&&(t="."+e[e.length-2]+"."+e[e.length-1]),t},checkCookiesEnabled:function(){return tpcCookiesEnableCheckingDone?tpcCookiesEnabledStatus:(stlib.cookie.setTempCookie("STPC","yes",1),tpcCookiesEnabledStatus="yes"==stlib.cookie.getCookie("STPC"),tpcCookiesEnableCheckingDone=!0,tpcCookiesEnabledStatus)},hasLocalStorage:function(){try{return localStorage.setItem("stStorage","yes"),localStorage.removeItem("stStorage"),!0}catch(e){return!1}}},stlib.validate={regexes:{notEncoded:/(%[^0-7])|(%[0-7][^0-9a-f])|["{}\[\]\<\>\\\^`\|]/gi,tooEncoded:/%25([0-7][0-9a-f])/gi,publisher:/^(([a-z]{2}(-|\.))|)[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i,url:/^(http|https):\/\/([a-z0-9!'\(\)\*\.\-\+:]*(\.)[a-z0-9!'\(\)\*\.\-\+:]*)((\/[a-z0-9!'\(\)\*\.\-\+:]*)*)/i,fpc:/^[0-9a-f]{7}-[0-9a-f]{11}-[0-9a-f]{7,8}-[0-9]*$/i,sessionID:/^[0-9]*\.[0-9a-f]*$/i,title:/.*/,description:/.*/,buttonType:/^(chicklet|vcount|hcount|large|custom|button|)$/,comment:/.*/,destination:/.*/,source:/.*/,image:/(^(http|https):\/\/([a-z0-9!'\(\)\*\.\-\+:]*(\.)[a-z0-9!'\(\)\*\.\-\+:]*)((\/[a-z0-9!'\(\)\*\.\-\+:]*)*))|^$/i,sourceURL:/^(http|https):\/\/([a-z0-9!'\(\)\*\.\-\+:]*(\.)[a-z0-9!'\(\)\*\.\-\+:]*)((\/[a-z0-9!'\(\)\*\.\-\+:]*)*)/i,sharURL:/(^(http|https):\/\/([a-z0-9!'\(\)\*\.\-\+:]*(\.)[a-z0-9!'\(\)\*\.\-\+:]*)((\/[a-z0-9!'\(\)\*\.\-\+:]*)*))|^$/i}},stlib.html={encode:function(e){return stlib.html.startsWith(e,"http")?String(e).replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):String(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},startsWith:function(e,t){return e.match("^"+t)==t}},"undefined"==typeof stlib.data&&(stlib.data={bInit:!1,publisherKeySet:!1,pageInfo:{},shareInfo:{},resetPageData:function(){stlib.data.pageInfo.fpc="ERROR",stlib.data.pageInfo.sessionID="ERROR",stlib.data.pageInfo.hostname="ERROR",stlib.data.pageInfo.location="ERROR",stlib.data.pageInfo.product="widget",stlib.data.pageInfo.stid=""},resetShareData:function(){stlib.data.shareInfo={},stlib.data.shareInfo.url="ERROR",stlib.data.shareInfo.sharURL="",stlib.data.shareInfo.buttonType="ERROR",stlib.data.shareInfo.destination="ERROR",stlib.data.shareInfo.source="ERROR"},resetData:function(){stlib.data.resetPageData(),stlib.data.resetShareData()},validate:function(){function e(e,t){t!=encodeURIComponent(t)&&(s.notEncoded.test(t)?_$de(e+" not encoded"):null,s.tooEncoded.test(t)?_$de(e+" has too much encoding"):null);var i=!s[e]||s[e].test(decodeURIComponent(t));i||_$de(e+" failed validation")}var t,s=stlib.validate.regexes,i=stlib.data.pageInfo;for(t in i)e(t,i[t]);i=stlib.data.shareInfo;for(t in i)e(t,i[t])},init:function(){if(!stlib.data.bInit){stlib.data.bInit=!0,stlib.data.resetData(),stlib.publisher&&stlib.data.setPublisher(stlib.publisher),stlib.data.set("product",stlib.product,"pageInfo");var e=document.location.href,t="",s="",i=[],a="",n="",r="",o="";i=stlib.data.getRefDataFromUrl(e),i.length>0?(t="undefined"!=typeof i[0]?i[0]:"",s="undefined"!=typeof i[1]?i[1]:"",n=stlib.data.removeRefDataFromUrl(e),stlib.data.showModifiedUrl(n),stlib.data.set("url",n,"shareInfo")):(a=document.referrer,i=a.replace("http://","").replace("https://","").split("/"),t=i.shift(),s=i.join("/"),stlib.data.set("url",e,"shareInfo")),stlib.stfp.getPluginsHash(),stlib.stfp.getResolutionDepthHash(),stlib.stfp.getTimezoneOffsetHash(),stlib.data.set("title",document.title,"shareInfo"),1!=stlib.data.publisherKeySet&&stlib.data.set("publisher","ur.00000000-0000-0000-0000-000000000000","pageInfo"),stlib.fpc.createFpc(),stlib.data.set("fpc",stlib.fpc.cookieValue,"pageInfo"),r=(new Date).getTime().toString(),o=Number(Math.random().toPrecision(5).toString().substr(2)).toString(),stlib.data.set("sessionID",r+"."+o,"pageInfo"),stlib.data.set("hostname",document.location.hostname,"pageInfo"),stlib.data.set("location",document.location.pathname,"pageInfo"),stlib.data.set("refDomain",t,"pageInfo"),stlib.data.set("refQuery",s,"pageInfo")}},showModifiedUrl:function(e){if(window.history&&history.replaceState)history.replaceState(null,document.title,e);else if(/MSIE/.test(navigator.userAgent)){var t=0,s=window.location.hash,i=new RegExp("(&st_refDomain=?)[^&|]+"),a=new RegExp("(#st_refDomain=?)[^&|]+"),n=document.location.href;i.test(n)?(t=s.indexOf("&st_refDomain"),window.location.hash=s.substr(0,t)):a.test(n)&&window.location.replace("#")}else document.location.replace(e)},getRefDataFromUrl:function(e){var t=new RegExp("st_refDomain="),s="",i="",a=[];return t.test(e)&&(s=e.match(/(st_refDomain=?)[^\&|]+/g),a.push(s[0].split("=")[1]),i=e.match(/(st_refQuery=?)[^\&|]+/g),a.push(i[0].replace("st_refQuery=",""))),a},removeRefDataFromUrl:function(e){var t="",s=new RegExp("(&st_refDomain=?)[^&|]+"),i=new RegExp("(#st_refDomain=?)[^&|]+");return t=s.test(e)?e.replace(/\&st_refDomain=(.*)/g,""):i.test(e)?e.replace(/\#st_refDomain=(.*)/g,""):e},setPublisher:function(e){stlib.data.set("publisher",e,"pageInfo"),stlib.data.publisherKeySet=!0},setSource:function(e,t){var s="";s=t?t.toolbar?"toolbar"+e:t.page&&"home"!=t.page&&""!=t.page?"chicklet"+e:"button"+e:e,stlib.data.set("source",s,"shareInfo")},set:function(e,t,s){if("number"==typeof t||"boolean"==typeof t)stlib.data[s][e]=t;else if("undefined"==typeof t||null==t);else if(stlib.data[s][e]=encodeURIComponent(decodeURIComponent(unescape(t.replace(/<[^<>]*>/gi," ")).replace(/%/gi,"%25"))),"url"==e||"location"==e||"image"==e)try{stlib.data[s][e]=encodeURIComponent(decodeURIComponent(decodeURI(t.replace(/<[^<>]*>/gi," ")).replace(/%/gi,"%25")))}catch(i){stlib.data[s][e]=encodeURIComponent(decodeURIComponent(unescape(t.replace(/<[^<>]*>/gi," ")).replace(/%/gi,"%25")))}},get:function(e,t){return!(!stlib.data[t]||!stlib.data[t][e])&&decodeURIComponent(stlib.data[t][e])},unset:function(e,t){stlib.data[t]&&"undefined"!=typeof stlib.data[t][e]&&delete stlib.data[t][e]}},stlib.data.resetData()),stlib.hash={doNotHash:!0,hashAddressBar:!1,doNotCopy:!0,prefix:"sthash",shareHash:"",incomingHash:"",validChars:["1","2","3","4","5","6","7","8","9","0","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],servicePreferences:{linkedin:"param",stumbleupon:"param",bebo:"param"},hashDestination:function(e){if("copy"==e)return"dpuf";var t=e.substring(0,2)+e.substring(e.length-2,e.length),s=function(e,t){return 122==e.charCodeAt(t)?"a":String.fromCharCode(e.charCodeAt(t)+1)};return s(t,0)+s(t,1)+s(t,2)+s(t,3)},getHash:function(){var e=!1,t="",s=document.location.href;s=s.split("#").shift();var i=s.split("?");if(i.length>1){i=i[1].split("&");for(arg in i)try{"sthash"==i[arg].substring(0,6)&&(e=!0,t=i[arg])}catch(a){}return e?t:document.location.hash.substring(1)}return document.location.hash.substring(1)},stripHash:function(e){var t=e;return t=t.split("#"),t.length>1?t[1]:""},clearHash:function(){if(stlib.hash.validateHash(document.location.hash)){var e=document.location.href.split("#").shift();window.history&&history.replaceState?history.replaceState(null,document.title,e):/MSIE/.test(navigator.userAgent)?window.location.replace("#"):document.location.hash=""}},init:function(){for(var e="",t=stlib.hash.validChars.length,s=0;s<8;s++)e+=stlib.hash.validChars[Math.random()*t|0];if(""==stlib.hash.getHash())stlib.hash.shareHash=stlib.hash.prefix+"."+e;else{var i=stlib.hash.getHash().split("."),a=i.shift();a==stlib.hash.prefix||a==stlib.hash.prefix?(stlib.hash.incomingHash=stlib.hash.getHash(),stlib.hash.shareHash=stlib.hash.prefix+"."+i.shift()+"."+e):stlib.hash.shareHash=stlib.hash.prefix+"."+e}!stlib.hash.doNotHash&&stlib.hash.hashAddressBar?(""==document.location.hash||stlib.hash.validateHash(document.location.hash))&&(window.history&&history.replaceState?history.replaceState(null,"ShareThis","#"+stlib.hash.shareHash+".dpbs"):/MSIE/.test(navigator.userAgent)?window.location.replace("#"+stlib.hash.shareHash+".dpbs"):document.location.hash=stlib.hash.shareHash+".dpbs"):stlib.hash.clearHash(),stlib.hash.doNotHash||stlib.hash.doNotCopy||stlib.hash.copyPasteInit(),stlib.hash.copyPasteLog()},checkURL:function(){var e=stlib.data.get("destination","shareInfo"),t=stlib.hash.updateParams(e),s="."+stlib.hash.hashDestination(e);if(stlib.hash.updateDestination(s),!stlib.hash.doNotHash&&"undefined"!=typeof stlib.data.pageInfo.shareHash){var i=stlib.data.get("url","shareInfo"),a=stlib.hash.stripHash(i);if(stlib.hash.validateHash(a)||""==a)if("undefined"!=typeof stlib.hash.servicePreferences[e])if("param"==stlib.hash.servicePreferences[e]){if(_$d1("Don't use hash, use params"),_$d2(t),t.split("?").length>1){for(var n=t.split("?")[1].split("&"),r=!1,o=0;o<n.length;o++)"sthash"==n[o].split(".")[0]&&(r=!0);r?stlib.data.set("url",t,"shareInfo"):stlib.data.set("url",t+"&"+stlib.data.pageInfo.shareHash,"shareInfo")}else stlib.data.set("url",t+"?"+stlib.data.pageInfo.shareHash,"shareInfo");"linkedin"==e&&""!=stlib.data.get("sharURL","shareInfo")&&stlib.data.set("sharURL",stlib.data.get("url","shareInfo"),"shareInfo")}else _$d1("Using Hash"),stlib.data.set("url",t+"#"+stlib.data.pageInfo.shareHash,"shareInfo");else _$d1("Not using custom destination hash type"),stlib.data.set("url",t+"#"+stlib.data.pageInfo.shareHash,"shareInfo")}},updateParams:function(e){var t=stlib.data.get("url","shareInfo").split("#").shift(),s=/(\?)sthash\.[a-zA-z0-9]{8}\.[a-zA-z0-9]{8}/,i=/(&)sthash\.[a-zA-z0-9]{8}\.[a-zA-z0-9]{8}/,a=/(\?)sthash\.[a-zA-z0-9]{8}/,n=/(&)sthash\.[a-zA-z0-9]{8}/;return s.test(t)?t=t.replace(s,"?"+stlib.data.pageInfo.shareHash):i.test(t)?t=t.replace(i,"&"+stlib.data.pageInfo.shareHash):a.test(t)?t=t.replace(a,"?"+stlib.data.pageInfo.shareHash):n.test(t)&&(t=t.replace(n,"&"+stlib.data.pageInfo.shareHash)),t},updateDestination:function(e){var t=/sthash\.[a-zA-z0-9]{8}\.[a-zA-z0-9]{8}\.[a-z]{4}/,s=/sthash\.[a-zA-z0-9]{8}\.[a-z]{4}/;_$d_(),_$d1("Updating Destination"),t.test(stlib.data.pageInfo.shareHash)?(_$d2(stlib.data.pageInfo.shareHash.substring(0,24)),stlib.data.pageInfo.shareHash=stlib.data.pageInfo.shareHash.substring(0,24)+e):s.test(stlib.data.pageInfo.shareHash)?(_$d2(stlib.data.pageInfo.shareHash.substring(0,15)),stlib.data.pageInfo.shareHash=stlib.data.pageInfo.shareHash.substring(0,15)+e):stlib.data.pageInfo.shareHash+=e},validateHash:function(e){var t=/[\?#&]?sthash\.[a-zA-z0-9]{8}\.[a-zA-z0-9]{8}$/,s=/[\?#&]?sthash\.[a-zA-z0-9]{8}\.[a-zA-z0-9]{8}\.[a-z]{4}$/,i=/[\?#&]?sthash\.[a-zA-z0-9]{8}\.[a-z]{4}$/,a=/[\?#&]?sthash\.[a-zA-z0-9]{8}$/;return a.test(e)||i.test(e)||s.test(e)||t.test(e)},appendHash:function(e){var t=stlib.hash.stripHash(e);return stlib.data.pageInfo.shareHash&&(stlib.hash.validateHash(t)||""==t)&&(e=e.replace("#"+t,"")+"#"+stlib.data.pageInfo.shareHash),e},copyPasteInit:function(){var e=document.getElementsByTagName("body")[0],t=document.createElement("div");t.id="stcpDiv",t.style.position="absolute",t.style.top="-1999px",t.style.left="-1988px",e.appendChild(t),t.innerHTML="ShareThis Copy and Paste";document.location.href.split("#").shift(),"#"+stlib.hash.shareHash;document.addEventListener?e.addEventListener("copy",function(e){if("undefined"==typeof Tynt){var s=document.getSelection();if(!s.isCollapsed){var i=s.getRangeAt(0).cloneContents();if(t.innerHTML="",t.appendChild(i),0!=t.textContent.trim().length){0==(s+"").trim().length||(t.innerHTML==s+""||t.textContent==s+""?t.innerHTML=stlib.html.encode(stlib.hash.selectionModify(s)):t.innerHTML+=stlib.html.encode(stlib.hash.selectionModify(s,!0)));var a=document.createRange();a.selectNodeContents(t);var n=s.getRangeAt(0);s.removeAllRanges(),s.addRange(a),setTimeout(function(){s.removeAllRanges(),s.addRange(n)},0)}}}},!1):document.attachEvent},copyPasteLog:function(){var e=window.addEventListener?"addEventListener":"attachEvent",t="attachEvent"==e?"oncopy":"copy",s=document.getElementsByTagName("body")[0];s&&s[e](t,function(e){var t=!0;stlib.data.resetShareData(),stlib.data.set("url",document.location.href,"shareInfo"),stlib.data.setSource("copy"),stlib.data.set("destination","copy","shareInfo"),stlib.data.set("buttonType","custom","shareInfo"),"undefined"!=typeof Tynt&&(stlib.data.set("result","tynt","shareInfo"),stlib.logger.log("debug"),t=!1),"undefined"!=typeof addthis_config&&(stlib.data.set("result","addThis","shareInfo"),"undefined"==typeof addthis_config.data_track_textcopy||addthis_config.data_track_textcopy?(stlib.data.set("enabled","true","shareInfo"),t=!1):stlib.data.set("enabled","false","shareInfo"),stlib.logger.log("debug")),t&&(stlib.data.set("result","pass","shareInfo"),stlib.logger.log("debug"))},!1)},logCopy:function(e,t){stlib.data.resetShareData(),stlib.data.set("url",e,"shareInfo"),stlib.data.setSource("copy"),stlib.data.set("destination","copy","shareInfo"),stlib.data.set("buttonType","custom","shareInfo"),t&&stlib.data.set("description",t,"shareInfo"),stlib.sharer.share()},selectionModify:function(e,t){e=""+e,_$d_(),_$d1("Copy Paste");var s=/^((http|https):\/\/([a-z0-9!'\(\)\*\.\-\+:]*(\.)[a-z0-9!'\(\)\*\.\-\+:]*)((\/[a-z0-9!'\(\)\*\.\-\+:]*)*))/i,i=/^([a-z0-9!'\(\)\*\.\-\+:]*(\.)[a-z0-9!'\(\)\*\.\-\+:]*)((\/[a-z0-9!'\(\)\*\.\-\+:]*)*)/i,a=/^\+?1?[\.\-\\)_\s]?[\\(]?[0-9]{3}[\.\-\\)_\s]?[0-9]{3}[\.\-_\s]?[0-9]{4}$|^[0-9]{3}[\.\-_\s]?[0-9]{4}$/,n=/^[0-9]{3}[\.\-_\s]?[0-9]{8}$/,r=/^[0-9]{2}[\.\-_\s]?[0-9]{4}[\.\-_\s]?[0-9]{4}$/,o=/[\-_\.a-z0-9]+@[\-_\.a-z0-9]+\.[\-_\.a-z0-9]+/i,l=/[\s@]/,d=document.location.href.split("#").shift(),c="#"+stlib.hash.shareHash,g="",u="",h="";return"undefined"!=typeof t||!s.test(e)&&!i.test(e)||l.test(e.trim())?(_$d2("is Not Url"),u=""==document.location.hash||/^#$/.test(document.location.hash)||stlib.hash.validateHash(document.location.hash)?d+c+".dpuf":document.location.href,h=e,e.length>50&&(g=" - See more at: "+u,a.test(e)||n.test(e)||r.test(e)||o.test(e)||(h+=g))):(_$d2("is Url"),null==e.match(/#/)||stlib.hash.validateHash(e)?(u=e.split("#")[0]+c+".dpuf",h=u):(u=e,h=u)),e.length>140&&(e=e.substring(0,137)+"..."),stlib.hash.logCopy(u,e),t&&1==t?g:h}},stlib.allServices={adfty:{title:"Adfty"},allvoices:{title:"Allvoices"},amazon_wishlist:{title:"Amazon Wishlist"},arto:{title:"Arto"},att:{title:"AT&T"},baidu:{title:"Baidu"},blinklist:{title:"Blinklist"},blip:{title:"Blip"},blogmarks:{title:"Blogmarks"},blogger:{title:"Blogger",type:"post"},buddymarks:{title:"BuddyMarks"},buffer:{title:"Buffer"},care2:{title:"Care2"},chiq:{title:"chiq"},citeulike:{title:"CiteULike"},chiq:{title:"chiq"},corkboard:{title:"Corkboard"},dealsplus:{title:"Dealspl.us"},delicious:{title:"Delicious"},digg:{title:"Digg"},diigo:{title:"Diigo"},dzone:{title:"DZone"},edmodo:{title:"Edmodo"},email:{title:"Email"},embed_ly:{title:"Embed.ly"},evernote:{title:"Evernote"},facebook:{title:"Facebook"},fark:{title:"Fark"},fashiolista:{title:"Fashiolista"},flipboard:{title:"Flipboard"},folkd:{title:"folkd.com"},foodlve:{title:"FoodLve"},fresqui:{title:"Fresqui"},friendfeed:{title:"FriendFeed"},funp:{title:"Funp"},fwisp:{title:"fwisp"},google:{title:"Google"},googleplus:{title:"Google +"},google_bmarks:{title:"Bookmarks"},google_reader:{title:"Google Reader"},google_translate:{title:"Google Translate"},hatena:{title:"Hatena"},instapaper:{title:"Instapaper"},jumptags:{title:"Jumptags"},kaboodle:{title:"Kaboodle"},kik:{title:"Kik"},linkagogo:{title:"linkaGoGo"},linkedin:{title:"LinkedIn"},livejournal:{title:"LiveJournal",type:"post"},mail_ru:{title:"mail.ru"},meneame:{title:"Meneame"},messenger:{title:"Messenger"},mister_wong:{title:"Mr Wong"},moshare:{title:"moShare"},myspace:{title:"MySpace"},n4g:{title:"N4G"},netlog:{title:"Netlog"},netvouz:{title:"Netvouz"},newsvine:{title:"Newsvine"},nujij:{title:"NUjij"},odnoklassniki:{title:"Odnoklassniki"},oknotizie:{title:"Oknotizie"},pinterest:{title:"Pinterest"},pocket:{title:"Pocket"},print:{title:"Print"},raise_your_voice:{title:"Raise Your Voice"},reddit:{title:"Reddit"},segnalo:{title:"Segnalo"},sharethis:{title:"ShareThis"},sina:{title:"Sina"},sonico:{title:"Sonico"},startaid:{title:"Startaid"},startlap:{title:"Startlap"},stumbleupon:{title:"StumbleUpon"},stumpedia:{title:"Stumpedia"},typepad:{title:"TypePad",type:"post"},tumblr:{title:"Tumblr"},twitter:{title:"Twitter"},viadeo:{title:"Viadeo"},virb:{title:"Virb"},vkontakte:{title:"Vkontakte"},voxopolis:{title:"VOXopolis"},whatsapp:{title:"WhatsApp"},weheartit:{title:"We Heart It"},wordpress:{title:"WordPress",type:"post"},xerpi:{title:"Xerpi"},xing:{title:"Xing"},yammer:{title:"Yammer"}},stlib.allOauthServices={twitter:{title:"Twitter"},linkedIn:{title:"LinkedIn"},facebook:{title:"Facebook"}},stlib.allNativeServices={fblike:{title:"Facebook Like"},fbrec:{title:"Facebook Recommend"},fbsend:{title:"Facebook Send"},fbsub:{title:"Facebook Subscribe"},foursquaresave:{title:"Foursquare Save"},foursquarefollow:{title:"Foursquare Follow"},instagram:{title:"Instagram Badge"},plusone:{title:"Google +1"},pinterestfollow:{title:"Pinterest Follow"},twitterfollow:{title:"Twitter Follow"},youtube:{title:"Youtube Subscribe"}},stlib.allDeprecatedServices={google_bmarks:{title:"Google Bookmarks"},yahoo_bmarks:{title:"Yahoo Bookmarks"}},stlib.allOtherServices={copy:{title:"Copy Paste"},sharenow:{title:"ShareNow"},sharenow_auto:{title:"Frictionless Sharing"},fbunlike:{title:"Facebook Unlike"}};var _all_services=stlib.allServices;stlib.logger={loggerUrl:("https:"==document.location.protocol?"https://":"http://")+"l.sharethis.com/",l2LoggerUrl:("https:"==document.location.protocol?"https://":"http://")+"l2.sharethis.com/",productArray:new Array,version:"",lang:"en",isFpEvent:!1,constructParamString:function(){var e,t=stlib.data.pageInfo,s="";for(e in t)(stlib.logger.isFpEvent||"ufa"!=e&&"ufb"!=e&&"ufc"!=e&&"ufd"!=e)&&(s+=e+"="+t[e]+"&");t=stlib.data.shareInfo;for(e in t)s+=e+"="+t[e]+"&";return s.substring(0,s.length-1)},log:function(e,t,s){if("pview"==e||"share"==e||"onload"==e?(stlib.logger.isFpEvent=!0,"ERROR"!=stlib.stfp.screenResolutionDepthHash&&stlib.data.set("ufa",stlib.stfp.screenResolutionDepthHash,"pageInfo"),"ERROR"!=stlib.stfp.pluginsListHash&&stlib.data.set("ufb",stlib.stfp.pluginsListHash,"pageInfo"),"ERROR"!=stlib.stfp.fontsListHash&&stlib.data.set("ufc",stlib.stfp.fontsListHash,"pageInfo"),"ERROR"!=stlib.stfp.timezoneoffsetHash&&stlib.data.set("ufd",stlib.stfp.timezoneoffsetHash,"pageInfo")):stlib.logger.isFpEvent=!1,"undefined"!=typeof stlib.data.get("counter","shareInfo")){var i=0;stlib.data.get("counter","shareInfo")&&(i=stlib.data.get("counter","shareInfo")),stlib.data.set("ts"+(new Date).getTime()+"."+i,"","shareInfo"),stlib.data.unset("counter","shareInfo")}else stlib.data.set("ts"+(new Date).getTime(),"","shareInfo");if("widget"==e){var a="."+stlib.hash.hashDestination(stlib.data.shareInfo.destination);stlib.hash.updateDestination(a)}(!t||t!=stlib.logger.loggerUrl&&t!=stlib.logger.l2LoggerUrl)&&(t=stlib.logger.loggerUrl);var n="pview"==e||"onload"==e?e:"debug"==e?"cns":"log";if("pview"==e||"onload"==e)var r=t+n+"?event="+e+"&version="+stlib.logger.version+"&lang="+stlib.logger.lang+"&"+stlib.logger.constructParamString();else var r=t+n+"?event="+e+"&"+stlib.logger.constructParamString();var o=new Image(1,1);o.src=r,o.onload=function(){},s?s():null}},stlib.scriptLoader={loadJavascript:function(e,t){_$d_(),_$d1("Loading JS: "+e);var s=stlib.scriptLoader;s.head=document.getElementsByTagName("head")[0],s.scriptSrc=e,s.script=document.createElement("script"),s.script.setAttribute("type","text/javascript"),s.script.setAttribute("src",s.scriptSrc),s.script.async=!0,window.attachEvent&&document.all?s.script.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||t()}:s.script.onload=t,s.s=document.getElementsByTagName("script")[0],s.s.parentNode.insertBefore(s.script,s.s)},loadCSS:function(e,t){_$d_(),_$d1("Loading CSS: "+e);var s,i=stlib.scriptLoader;i.head=document.getElementsByTagName("head")[0],i.cssSrc=e,i.css=document.createElement("link"),i.css.setAttribute("rel","stylesheet"),i.css.setAttribute("type","text/css"),i.css.setAttribute("href",e),i.css.setAttribute("id",e),setTimeout(function(){t(),document.getElementById(e)||(s=setInterval(function(){document.getElementById(e)&&(clearInterval(s),t())},100))},100),i.head.appendChild(i.css)}};var widgetLogger={};if(stlib.gaLogger={configOptions:null,shareLog:function(e){"undefined"!=typeof widgetLogger.pubTracker&&null!=widgetLogger.pubTracker&&"undefined"!=typeof widgetLogger.pubTracker._trackEvent&&(stlib.gaLogger.configOptions?widgetLogger.pubTracker._trackEvent("ShareThis",e,stlib.gaLogger.configOptions.URL):widgetLogger.pubTracker._trackEvent("ShareThis",e)),"undefined"!=typeof window.postMessage&&""!==document.referrer&&(stlib.gaLogger.configOptions?parent.postMessage("ShareThis|click|"+e+"|"+stlib.gaLogger.configOptions.URL,document.referrer):parent.postMessage("ShareThis|click|"+e,document.referrer))},initGA:function(e,t,s){if(stlib.gaLogger.configOptions=t,"undefined"==typeof e)return void _$de("tracker ID for GA required");if("undefined"==typeof _gat){var i=("https:"==document.location.protocol?"https://ssl.":"http://www.")+"google-analytics.com/ga.js";stlib.scriptLoader.loadJavascript(i,function(){try{widgetLogger.ga=_gat._createTracker(e),"undefined"!=typeof widgetLogger.ga&&null!==widgetLogger.ga&&"undefined"!=typeof widgetLogger.ga._trackEvent&&("undefined"==typeof s&&1!=s&&widgetLogger.ga._trackPageview(),stlib.gaLogger.configOptions&&stlib.gaLogger.configOptions.tracking&&null!==stlib.gaLogger.configOptions.publisherGA?(widgetLogger.pubTracker=_gat._createTracker(stlib.gaLogger.configOptions.publisherGA),widgetLogger.ga._trackEvent("PublisherGA-"+stlib.gaLogger.configOptions.tracking,stlib.gaLogger.configOptions.publisherGA,stlib.gaLogger.configOptions.publisher)):stlib.gaLogger.configOptions&&null!==stlib.gaLogger.configOptions.publisherGA&&(widgetLogger.pubTracker=_gat._createTracker(stlib.gaLogger.configOptions.publisherGA),widgetLogger.ga._trackEvent("PublisherGA-"+stlib.gaLogger.configOptions.tracking,stlib.gaLogger.configOptions.publisherGA,stlib.gaLogger.configOptions.publisher)))}catch(t){}})}else"undefined"!=typeof widgetLogger.ga&&null!==widgetLogger.ga&&"undefined"!=typeof widgetLogger.ga._trackEvent&&stlib.gaLogger.configOptions&&stlib.gaLogger.configOptions.tracking&&null!=stlib.gaLogger.configOptions.publisherGA&&(widgetLogger.pubTracker=_gat._createTracker(stlib.gaLogger.configOptions.publisherGA),widgetLogger.ga._trackEvent("PublisherGA-"+stlib.gaLogger.configOptions.tracking,stlib.gaLogger.configOptions.publisherGA,stlib.gaLogger.configOptions.publisher))},gaLog:function(e,t,s,i){"undefined"!=typeof widgetLogger.ga&&null!==widgetLogger.ga&&"undefined"!=typeof widgetLogger.ga._trackEvent&&widgetLogger.ga._trackEvent(e,t,s,i)}},stlib.browser={iemode:null,firefox:null,firefoxVersion:null,safari:null,chrome:null,opera:null,windows:null,mac:null,ieFallback:/MSIE [6789]/.test(navigator.userAgent),init:function(){var e=navigator.userAgent.toString().toLowerCase();/msie|trident/i.test(e)&&(document.documentMode?stlib.browser.iemode=document.documentMode:(stlib.browser.iemode=5,document.compatMode&&"CSS1Compat"==document.compatMode&&(stlib.browser.iemode=7))),stlib.browser.firefox=e.indexOf("firefox")!=-1&&"undefined"!=typeof InstallTrigger,stlib.browser.firefoxVersion=e.indexOf("firefox/5.0")==-1&&e.indexOf("firefox/9.0")==-1,stlib.browser.safari=e.indexOf("safari")!=-1&&e.indexOf("chrome")==-1,stlib.browser.chrome=e.indexOf("safari")!=-1&&e.indexOf("chrome")!=-1,stlib.browser.opera=!!(window.opera||e.indexOf(" opr/")>=0),stlib.browser.windows=e.indexOf("windows")!=-1,stlib.browser.mac=e.indexOf("macintosh")!=-1},getIEVersion:function(){return stlib.browser.iemode},isFirefox:function(){return stlib.browser.firefox},firefox8Version:function(){return stlib.browser.firefoxVersion},isSafari:function(){return stlib.browser.safari},isWindows:function(){return stlib.browser.windows},isChrome:function(){return stlib.browser.chrome},isOpera:function(){return stlib.browser.opera},isMac:function(){return stlib.browser.mac}},stlib.browser.init(),stlib.browser.mobile={mobile:!1,uagent:null,android:null,iOs:null,silk:null,windows:null,kindle:null,url:null,sharCreated:!1,sharUrl:null,isExcerptImplementation:!1,iOsVer:0,init:function(){this.uagent=navigator.userAgent.toLowerCase(),this.isAndroid()?this.mobile=!0:this.isIOs()?this.mobile=!0:this.isSilk()?this.mobile=!0:this.isWindowsPhone()?this.mobile=!0:this.isKindle()&&(this.mobile=!0)},isMobile:function(){return this.mobile},isAndroid:function(){return null===this.android&&(this.android=this.uagent.indexOf("android")>-1),this.android},isKindle:function(){return null===this.kindle&&(this.kindle=this.uagent.indexOf("kindle")>-1),this.kindle},isIOs:function(){return null===this.iOs&&(this.iOs=this.uagent.indexOf("ipad")>-1||this.uagent.indexOf("ipod")>-1||this.uagent.indexOf("iphone")>-1),this.iOs},isSilk:function(){return null===this.silk&&(this.silk=this.uagent.indexOf("silk")>-1),this.silk},getIOSVersion:function(){return this.isIOs()&&(this.iOsVer=this.uagent.substr(this.uagent.indexOf("os ")+3,5).replace(/\_/g,".")),this.iOsVer},isWindowsPhone:function(){return null===this.windows&&(this.windows=this.uagent.indexOf("windows phone")>-1),this.windows}},stlib.browser.mobile.init(),stlib=stlib||{},stlib.browser=stlib.browser||{},stlib.browser.mobile=stlib.browser.mobile||{},stlib.browser.mobile.handleForMobileFriendly=function(e,t,s){if(!this.isMobile())return!1;"undefined"==typeof stLight&&(stLight={},stLight.publisher=t.publisher,stLight.sessionID=t.sessionID,stLight.fpc="");var i="undefined"!=typeof e.title?e.title:encodeURIComponent(document.title),a="undefined"!=typeof e.url?e.url:document.URL,n=""!=t.short_url&&null!=t.short_url?t.short_url:"";if("sharethis"==t.service){var i="undefined"!=typeof e.title?e.title:encodeURIComponent(document.title),a="undefined"!=typeof e.url?e.url:document.URL,r="";"undefined"!=typeof e.summary&&null!=e.summary&&(r=e.summary);var o=document.createElement("form");o.setAttribute("method","GET"),o.setAttribute("action","http://edge.sharethis.com/share4x/mobile.html"),o.setAttribute("target","_blank");var l={url:a,title:i,summary:r,destination:t.service,publisher:stLight.publisher,fpc:stLight.fpc,sessionID:stLight.sessionID,short_url:n};"undefined"!=typeof e.image&&null!=e.image&&(l.image=e.image),"undefined"!=typeof e.summary&&null!=e.summary&&(l.desc=e.summary),"undefined"!=typeof s&&"undefined"!=typeof s.exclusive_services&&null!=s.exclusive_services&&(l.exclusive_services=s.exclusive_services),"undefined"!=typeof t.exclusive_services&&null!=t.exclusive_services&&(l.exclusive_services=t.exclusive_services),"undefined"!=typeof s&&"undefined"!=typeof s.services&&null!=s.services&&(l.services=s.services),"undefined"!=typeof t.services&&null!=t.services&&(l.services=t.services);var d=t;if("undefined"!=typeof s&&(d=s),"undefined"!=typeof d.doNotHash&&null!=d.doNotHash&&(l.doNotHash=d.doNotHash),"undefined"!=typeof e.via&&null!=e.via&&(l.via=e.via),l.service=t.service,l.type=t.type,stlib.data){var c=stlib.json.encode(stlib.data.pageInfo),g=stlib.json.encode(stlib.data.shareInfo);stlib.browser.isFirefox()&&!stlib.browser.firefox8Version()?(c=encodeURIComponent(encodeURIComponent(c)),g=encodeURIComponent(encodeURIComponent(g))):(c=encodeURIComponent(c),g=encodeURIComponent(g)),l.pageInfo=c,l.shareInfo=g}for(var u in l){var h=document.createElement("input");h.setAttribute("type","hidden"),h.setAttribute("name",u),h.setAttribute("value",l[u]),o.appendChild(h)}return document.body.appendChild(o),o.submit(),!0}if("email"==t.service){var p,m=0;stlib.browser.mobile.url=a,null==stlib.browser.mobile.sharUrl&&stlib.browser.mobile.createSharOnPage();var f=""!=n?n+"%0A%0a":"{sharURLValue}%0A%0a";"undefined"!=typeof e.summary&&null!=e.summary&&(f+=e.summary+"%0A%0a"),f+="Sent using ShareThis";var b="mailto:?";b+="subject="+i,b+="&body="+f,p=setInterval(function(){null!=stlib.browser.mobile.sharUrl&&(clearInterval(p),window.location.href=b.replace("{sharURLValue}",stlib.browser.mobile.sharUrl)),m>500&&(clearInterval(p),window.location.href=b.replace("{sharURLValue}",stlib.browser.mobile.sharUrl)),m++},100)}return!0},stlib.browser.mobile.createSharOnPage=function(){if(""!==stlib.browser.mobile.url&&" "!==stlib.browser.mobile.url&&null!==stlib.browser.mobile.url&&!stlib.browser.mobile.sharCreated){var e=["return=json","cb=stlib.browser.mobile.createSharOnPage_onSuccess","service=createSharURL","url="+encodeURIComponent(stlib.browser.mobile.url)];e=e.join("&"),stlib.scriptLoader.loadJavascript(("https:"==document.location.protocol?"https://ws.":"http://wd.")+"sharethis.com/api/getApi.php?"+e,function(){})}},stlib.browser.mobile.createSharOnPage_onSuccess=function(e){
"SUCCESS"==e.status?(stlib.browser.mobile.sharCreated=!0,stlib.browser.mobile.sharUrl=e.data.sharURL):stlib.browser.mobile.sharUrl=stlib.browser.mobile.url},stlib.pump=function(e,t,s){this.isIframeReady=!1,this.isIframeSending=!1,this.getHash=function(e){var t=e.split("#");return t.shift(),t.join("#")},this.broadcastInit=function(e){this.destination=e,_$d_("---------------------"),_$d1("Initiating broadcaster:"),_$d(this.destination)},this.broadcastSendMessage=function(e){if(_$d_("---------------------"),_$d1("Initiating Send:"),this.destination===window){if(stlib.browser.ieFallback)return window.location.replace(window.location.href.split("#")[0]+"#"+e),void _$d2("child can't communicate with parent");_$d2("Iframe to publisher: "+e),parent.postMessage("#"+e,document.referrer)}else{if(_$d2("Publisher to Iframe: "+e),stlib.browser.ieFallback)return void(this.destination.contentWindow&&(this.destination.contentWindow.location.replace(this.destination.src+"#"+e),this.isIframeSending=!0));this.destination.contentWindow.postMessage("#"+e,this.destination.src)}},this.receiverInit=function(e,t){if(_$d_("---------------------"),_$d1("Initiating Receiver:"),_$d(e),stlib.browser.ieFallback){if(this.callback=t,this.source=e,e===window){window.location.replace(window.location.href.split("#")[0]+"#"),this.currentIframe=window.location.hash;var s="receiver"+stlib.functionCount;stlib.functions[s]=function(e){if(""!=window.location.hash&&"#"!=window.location.hash){var t=window.location.hash;e(t),window.location.replace(window.location.href.split("#")[0]+"#")}},stlib.functionCount++;var i="callback"+stlib.functionCount;stlib.functions[i]=t,stlib.functionCount++,setInterval("stlib.functions['"+s+"'](stlib.functions['"+i+"'])",200)}var a=window.addEventListener?"addEventListener":"attachEvent",n="attachEvent"==a?"onmessage":"message";return void window[a](n,function(t){e==window||t.origin.indexOf("sharethis.com")!=-1&&(t.data.match(/#Pinterest Click/)&&stlib.sharer.sharePinterest(),t.data.match(/#Print Click/)&&stlib.sharer.stPrint())},!1)}var a=window.addEventListener?"addEventListener":"attachEvent",n="attachEvent"==a?"onmessage":"message";window[a](n,function(s){e==window?(_$d1("arrived in iframe from:"),_$d(s.origin),(s.data.match(/#fragmentPump/)||s.data.match(/#Buttons Ready/)||s.data.match(/#Widget Ready/)||0==s.data.indexOf("#light")||0==s.data.indexOf("#widget")||0==s.data.indexOf("#popup")||0==s.data.indexOf("#show")||0==s.data.indexOf("#init")||0==s.data.indexOf("#test")||0==s.data.indexOf("#data"))&&t(s.data)):s.origin.indexOf("sharethis.com")!=-1?(_$d1("arrived in parent from:"),_$d(s.origin),s.data.match(/#fragmentPump/)||s.data.match(/#Buttons Ready/)||s.data.match(/#Widget Ready/)||0==s.data.indexOf("#light")||0==s.data.indexOf("#widget")||0==s.data.indexOf("#popup")||0==s.data.indexOf("#show")||0==s.data.indexOf("#init")||0==s.data.indexOf("#test")||0==s.data.indexOf("#data")?t(s.data):s.data.match(/#Pinterest Click/)?stlib.sharer.sharePinterest():s.data.match(/#Print Click/)&&stlib.sharer.stPrint()):(_$d1("discarded event from:"),_$d(s.origin))},!1)},this.broadcastInit(e),this.receiverInit(t,s)},stlib.sharer={sharerUrl:("https:"==document.location.protocol?"https://ws.":"http://wd.")+"sharethis.com/api/sharer.php",regAuto:new RegExp(/(.*?)_auto$/),constructParamString:function(){stlib.data.validate(),stlib.hash.checkURL();var e,t=stlib.data.pageInfo,s="?";for(e in t)s+=e+"="+encodeURIComponent(t[e])+"&",_$d1("constructParamStringPageInfo: "+e+": "+t[e]);t=stlib.data.shareInfo;for(e in t)s+=e+"="+encodeURIComponent(t[e])+"&",_$d1("constructParamStringShareInfo: "+e+": "+t[e]);return s+="ts="+(new Date).getTime()+"&",s.substring(0,s.length-1)},stPrint:function(){window.print()},sharePinterest:function(){if(0==stlib.data.get("image","shareInfo")||null==stlib.data.get("image","shareInfo")||"true"==stlib.data.get("pinterest_native","shareInfo")){"undefined"!=typeof stWidget&&"function"==typeof stWidget.closeWidget&&stWidget.closeWidget(),"function"==typeof stcloseWidget&&stcloseWidget(),"undefined"!=typeof stToolbar&&"function"==typeof stToolbar.closeWidget&&stToolbar.closeWidget();var e=document.createElement("script");e.setAttribute("type","text/javascript"),e.setAttribute("charset","UTF-8"),e.setAttribute("src","//assets.pinterest.com/js/pinmarklet.js?r="+99999999*Math.random()),document.body.appendChild(e)}},share:function(e,t){var s=stlib.sharer.constructParamString();if(_$d_(),_$d1("Initiating a Share with the following url:"),_$d2(stlib.sharer.sharerUrl+s),"print"==stlib.data.get("destination","shareInfo")||"email"==stlib.data.get("destination","shareInfo")||"pinterest"==stlib.data.get("destination","shareInfo")&&null==stlib.data.get("source","shareInfo").match(/share4xmobile/)&&null==stlib.data.get("source","shareInfo").match(/share4xpage/)&&null==stlib.data.get("source","shareInfo").match(/5xpage/)&&(0==stlib.data.get("image","shareInfo")||null==stlib.data.get("image","shareInfo"))||"snapsets"==stlib.data.get("destination","shareInfo")||"copy"==stlib.data.get("destination","shareInfo")||"plusone"==stlib.data.get("destination","shareInfo")||stlib.data.get("destination","shareInfo").match(stlib.sharer.regAuto)||"undefined"!=typeof stlib.nativeButtons&&stlib.nativeButtons.checkNativeButtonSupport(stlib.data.get("destination","shareInfo"))||0!=stlib.data.get("pinterest_native","shareInfo")&&null!=stlib.data.get("pinterest_native","shareInfo")){var i=new Image(1,1);i.src=stlib.sharer.sharerUrl+s,i.onload=function(){}}else"undefined"!=typeof t&&1==t?window.open(stlib.sharer.sharerUrl+s,(new Date).valueOf(),"scrollbars=1, status=1, height=480, width=640, resizable=1"):window.open(stlib.sharer.sharerUrl+s);e?e():null}},stlib.sharer.oauth={callbacks:[],callbackCounter:1,API_Url:("https:"==document.location.protocol?"https://ws.":"http://wd.")+"sharethis.com/api/getApi.php",API_destinations:{facebook:"postFacebook",facebookfriend:"postFacebookUserWall",twitter:"postTwitter",yahoo:"postYahooPulse",linkedin:"postLinkedIn",blank:"postOauthError"},share:function(e){var t=stlib.sharer.oauth.API_destinations[stlib.data.shareInfo.destination];t=t?t:stlib.sharer.oauth.API_destinations.blank,"facebookfriend"==stlib.data.shareInfo.destination&&(stlib.data.shareInfo.destination="facebook");var s=stlib.sharer.constructParamString(),i=stlib.sharer.oauth.callbackCounter+"ST";stlib.sharer.oauth.callbackCounter++,stlib.sharer.oauth.callbacks[i]=e;stlib.cookie.getCookie("ShareUT"),stlib.cookie.getCookie("__stid");t=stlib.sharer.oauth.API_Url+s+"&service="+t+"&cb=stlib.sharer.oauth.callbacks['"+i+"']",_$d_(),_$d1("Initiating an Oauth Share with the following url:"),_$d2(t),stlib.scriptLoader.loadJavascript(t,function(){})}},!window.console||!console.firebug){var names=["log","debug","info","warn","error","assert","dir","dirxml","group","groupEnd","time","timeEnd","count","trace","profile","profileEnd"];window.console={};for(var i=0;i<names.length;++i)window.console[names[i]]=function(){}}var fragInstance=new stlib.pump(window,window,function(e){_$d1("Iframe received message: "+e),fragmentPump.checkFragment(e),stlib.browser.ieFallback?null:fragInstance.broadcastSendMessage("Widget Ready")});try{stlib.browser.ieFallback?null:fragInstance.broadcastSendMessage("Widget Ready")}catch(err){}var domReady=!1,bufferArgs=[],bufferValue=[],bufferRunArgs=[],glo_jsonArray=[],glo_jsonStr="",_popupWidths={};_popupWidths.facebook="450",_popupWidths.twitter="684",_popupWidths.yahoo="500",_popupWidths.google="550",_popupWidths.linkedin="600";var _popupHeights={};_popupHeights.facebook="300",_popupHeights.twitter="718",_popupHeights.yahoo="460",_popupHeights.google="400",_popupHeights.linkedin="433";var currentLang="";fragmentPump=new function(){this.initRun=!1,this.checkFragment=function(message){if("#Buttons Ready"!=message){_$d_(),_$d1("Checking Fragment: "+message);var args=message.split("/"),cmd=args.shift();cmd="fragmentPump."+cmd.substring(1),_$d2("Command: "+cmd);var temp="";1!=/page=send/gi.test(message)&&1!=/page-=-send/gi.test(message)||showLoadingBox();for(var i=0;i<args.length;i++)temp=temp+'"'+args[i].replace(/\"/gi,'\\"')+'"',i<args.length-1&&(temp+=",");var evStr=cmd+"("+temp+")";if("fragmentPump.init"==cmd||"fragmentPump.test"==cmd||"fragmentPump.data"==cmd||"fragmentPump.show"==cmd||"fragmentPump.popup"==cmd||"fragmentPump.widget"==cmd||"fragmentPump.light"==cmd){var tempFun=eval("window."+cmd);if(tempFun){var tempFucn=new Function(evStr);tempFucn()}}}},this.init=function(){if(this.initRun===!1){this.initRun=!0;for(var e=0;e<arguments.length;e++){""!=arguments[e]&&" "!=arguments[e]&&addToOptionsBuffer(arguments[e])}widget.domReady===!0&&processBuffer(),this.initRun=!0}},this.data=function(){_$d_(),_$d1("Running data() in fragPump.js:"),_$d2("Arguments: "),_$d2(arguments);for(var e=0;e<arguments.length;e++)addToOptions(arguments[e])},this.show=function(){if(checkOptOut(),initialPageTurn(),0==widget.chicklet_loaded&&(initWidget(),widget.chicklet_loaded=!0),0==this.initRun)return!1;for(var e=0;e<arguments.length;e++)addToOptions(arguments[e]);return!0},this.popup=function(){_$d_(),_$d1("Running popup() in fragPump.js:"),_$d2("Arguments: "),_$d2(arguments),checkOptOut(),initialPageTurn(),widget.popup=!0,0==widget.chicklet_loaded&&(initWidget(),widget.chicklet_loaded=!0),clearInterval(fragmentPump.fragTimer),glo_options_popup=!0,displayNum=24;for(var e=0;e<arguments.length;e++){addToOptionsBuffer2(arguments[e])}widget.domReady===!0&&processBuffer(),this.initRun=!0},this.widget=function(){if(moveServices(0),arguments.length)for(var e=arguments[0].split("="),t=0;t<e.length;t+=2)switch(e[t]){case"screen":"home"==e[t+1]?"send"!=widget.page&&showHome():"send"==e[t+1]&&showHome();break;case"publisherGA":setGlobals("publisherGA",e[t+1])}},this.light=function(){if(0==widget.chicklet_loaded&&(initWidget(),widget.chicklet_loaded=!0),0==this.initRun)return!1;for(var e=0;e<arguments.length;e++)addToOptionsLight(arguments[e]);return checkOptOut(),initialPageTurn(),addServiceLinks(),!0}};var widget=new function(){this.URL=null,this.short_url=null,this.title=null,this.sessionID=null,this.fpc=null,this.publisher=null,this.browser=null,this.services=[],this.publisher=null,this.icon,this.content,this.guid,this.guid_index,this.published,this.author,this.updated,this.summary,this.thumb,this.tags,this.hostname,this.location,this.page,this.purl,this.sharCreated=!1,this.all_services=stlib.allServices,this.top_services="email,facebook,twitter,pinterest,linkedin,googleplus,digg,stumbleupon,reddit,tumblr",this.top_services_sprite_list="email,facebook,twitter,pinterest,linkedin,googleplus,digg,stumbleupon,reddit,tumblr",this.exclusive_services=null,this.services="",this.sharebox={title:"Save",type:"sharebox"},this.chickletNumber=6,this.domReady=!1,this.guid_index=0,this.page="home",this.toolbar=!1,this.fsPoller=null,this.metaInfo=null,this.mainCssLoaded=!1,this.toolbar=!1,this.pageTracker=null,this.pubTracker=null,this.tracking=!1,this.lastURL=null,this.sharURL=null,this.poster=null,this.email_service=!0,this.sms_service=!0,this.showAllServices=!0,this.chicklet_loaded=!1,this.segmentframe=null,this.segmentRun=!1,this.ga=null,this.popup=!1,this.cssInterval=null,this.stLight=!1,this.optout=!1,this.doneScreen=!0,this.jsref="",this.type=null,this.service=null,this.publisherGA=null,this.message="",this.via=null,this.source="",this.shorten=!0,this.isServiceClicked=!1},jsonp={};jsonp.makeRequest=function(e){odjs(e,function(){})},"undefined"!=typeof window.addEventListener?window.addEventListener("load",initialize,!1):"undefined"!=typeof document.addEventListener?document.addEventListener("load",initialize,!1):"undefined"!=typeof window.attachEvent&&window.attachEvent("onload",initialize);var poster={};if(poster.cancel=function(e){turnPage("main"),widget.poster=null},poster.getCount=function(){var e=document.getElementById("poster_textArea"),t=e.value;return!(t.length>=117)&&117-t.length},poster.updateCounter=function(e){try{var t=window.event?event.keyCode:e.keyCode}catch(s){t=0}var i=poster.getCount(),a=element=document.getElementById("counter");return i===!1?(a.innerHTML=0,0!==t):(i<11?a.style.color="red":a.style.color="#666666",void(a.innerHTML=i))},poster.post=function(e){if(stlib.data.resetShareData(),stlib.data.set("source","share4xPoster","shareInfo"),stlib.data.set("buttonType","large","shareInfo"),stlib.data.set("title",widget.title,"shareInfo"),stlib.data.set("url",widget.URL,"shareInfo"),stlib.data.set("short_url",widget.short_url,"shareInfo"),stlib.data.set("sharURL",widget.sharURL,"shareInfo"),stlib.data.set("status",document.getElementById("poster_textArea").value,"shareInfo"),"wordpress"==widget.poster){if(document.getElementById("poster_inputBox").value.length<1)return showError(lang.strings.msg_valid_blog),!1;null==widget.service&&(widget.service="legacy");var t=document.getElementById("poster_inputBox").value;return t=t.replace(/^https?:\/\//,""),stlib.data.set("destination","wordpress","shareInfo"),stlib.data.set("wpurl",t,"shareInfo"),stlib.data.set("service",widget.service,"shareInfo"),stlib.sharer.share(null,widget.servicePopup),widget.poster=null,showDoneScreen(),!0}return!0},"undefined"==typeof lang){var lang={};lang.strings=new Object,lang.strings.msg_loading="Loading",lang.strings.msg_posting_t="Posting to Twitter",lang.strings.msg_text="Text to a Friend:",lang.strings.msg_sendign_inProgress="Sharing Message",lang.strings.msg_get_button="Get the add-on now!",lang.strings.msg_put_sharethis="Easily share your favorite finds online with a click of a button",lang.strings.msg_valid_blog="Sorry, there was something wrong with that URL, please try again.",lang.strings.msg_post_wordpress="Post to Wordpress",lang.strings.msg_email_to="To:",lang.strings.msg_email_from="From:",lang.strings.msg_email_send="Send",lang.strings.msg_email_cancel="Cancel",lang.strings.msg_email_preview="Preview",lang.strings.msg_email_close_preview="Close Preview",lang.strings.msg_email_char_limit="2000 characters left",lang.strings.email_message="Message:",lang.strings.msg_email_privacy="Privacy Policy",lang.strings.msg_email_load_cont="Loading Contacts...",lang.strings.msg_import_serv="Import Contacts From",lang.strings.msg_email_captcha_info="Please type the words below:",lang.strings.msg_valid_email_add="Please enter a valid email address.",lang.strings.msg_valid_email_add_from='Please enter a valid email address in the "From" field.',lang.strings.msg_valid_recipients="Please enter a valid recipient",lang.strings.msg_captcha="Please enter the Captcha response.",lang.strings.msg_view_all="View All",lang.strings.msg_hide_all="Hide All",lang.strings.msg_share_success_fs="Your message was successfully shared! Log-in with FastShare to share with just one click next time.",lang.strings.msg_fast_share="Enable FastShare",lang.strings.msg_related_shares="Popular Shares:",lang.strings.msg_post_to="Post to",lang.strings.msg_message="Message:",lang.strings.msg_submit="Submit",lang.strings.msg_friends="What are your friends sharing?",lang.strings.msg_my_acct="My Account",lang.strings.msg_signin="Sign In",lang.strings.msg_signout="Sign Out",lang.strings.msg_notyou="Not You?",lang.strings.msg_get_sharethis="Get ShareThis",lang.strings.msg_free_plugin="FREE Plug-In!",lang.strings.msg_recents="Recents:",lang.strings.msg_greeting="Hi",lang.strings.msg_share_anywhere="Share from Anywhere",lang.strings.msg_close="Close",lang.strings.msg_email="Select your Email",lang.strings.msg_add_bookmark="Share Again",lang.strings.msg_add_extension="Share Again",lang.strings.msg_share_success="Successfully Shared!",lang.strings.msg_share_again="Share again",lang.strings.msg_track="Opt out",lang.strings.msg_powered="Powered by",lang.strings.msg_search_services="Search for services",lang.strings.msg_email_cancel="Cancel",lang.strings.msg_post_wordpress="Post to Wordpress",lang.strings.msg_submit="Submit",lang.strings.msg_valid_blog="Sorry, there was something wrong with that URL, please try again.",lang.strings.msg_email_send="Send",lang.strings.msg_share="Share this with friends!",lang.strings.msg_back="Back",lang.strings.msg_blog_url="Blog URL",lang.strings.msg_popup_blocker="Please disable your popup-blocker!"}if("string"==typeof stlib.global.hash&&"popup"==stlib.global.hash.substring(0,5)){var cleanHash="#"+stlib.global.hash;_$d_(),_$d1("Popup initiated"),_$d1(cleanHash),fragmentPump.checkFragment(cleanHash),_$d1("Done Checking Frag")}
//# sourceMappingURL=maps/st.669e06ec8355a34a2f3fd5e9d7433ffd.js.map
